"use strict";(self.webpackChunkantd_more=self.webpackChunkantd_more||[]).push([[5078],{64915:function(e,n,t){t.d(n,{KB:function(){return l},d8:function(){return u},k6:function(){return i},q_:function(){return s}});var r=t(31671),a=t(35309),o=t(44278),i=function(e){return(0,r.Z)(e).replace(/\s/g,"")},l=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=(0,r.Z)(e),o=/[^\d]/g,i=t.replace(o,"");return n?(0,a.Z)(i):i},u=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=(0,r.Z)(e),a=/[^\dx]/gi,o=t.replace(a,"").substring(0,18);return n?o.toUpperCase():o},s=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=(0,r.Z)(e),a=/[^\d]/g,i=t.replace(a,"");return n?(0,o.Z)(i):i}},14063:function(e,n,t){var r=t(35118),a=t.n(r),o=t(17925),i=t.n(o),l=t(14005),u=t.n(l),s=t(17662),c=t.n(s),d=t(31404),f=t.n(d),p=t(978),v=t(15499),m=t(14748),C=t(36977),h=t(69075),x=t(24174),g=t(79969),b=t(50107),k=["value","onChange","onGetCaptcha","inputProps","buttonProps","type","autoClick","autoFocusOnGetCaptcha"],y=["type","placeholder","maxLength","allowClear","onGetCaptcha","initText","runText","resetText","second","autoClick","autoFocusOnGetCaptcha","inputProps","buttonProps","required"],Z=function(){var e=f()(c()().mark((function e(n){var t;return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n();case 3:if(!1===(t=e.sent)){e.next=6;break}return e.abrupt("return",t);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:return e.abrupt("return",Promise.reject());case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n){return e.apply(this,arguments)}}(),P=function(e){var n=e.value,t=e.onChange,r=e.onGetCaptcha,o=void 0===r?function(){return!0}:r,l=e.inputProps,s=void 0===l?{}:l,d=e.buttonProps,x=void 0===d?{}:d,g=e.type,y=void 0===g?"default":g,P=e.autoClick,w=e.autoFocusOnGetCaptcha,T=void 0===w||w,j=u()(e,k),E=p.useRef(null),L=p.useRef(null),S=x.onClick,q=x.onEnd,M=p.useState(!1),G=i()(M,2),F=G[0],B=G[1],N=p.useState(!1),O=i()(N,2),R=O[0],W=O[1],_=p.useCallback(function(){var e=f()(c()().mark((function e(n){return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return W(!0),null==S||S(n),e.prev=2,e.next=5,Z(o);case 5:B(!0),W(!1),T&&E.current.focus(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),W(!1);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(n){return e.apply(this,arguments)}}(),[T,S,o]),D=p.useCallback((function(){B(!1),null==q||q()}),[q]),U=p.useCallback((function(e){var n;e.stopPropagation(),null==x||null===(n=x.onMouseUp)||void 0===n||n.call(x,e)}),[x]);p.useImperativeHandle(null==x?void 0:x.ref,(function(){return L.current}),[L]);var K=p.useMemo((function(){var e={flex:1,transition:"width 0.3s ease 0s",marginRight:"8px"},n={};return"inline"===y&&(e={flex:1},n={height:"auto",padding:"0 4px 0 6px"}),{input:e,button:n}}),[y]),A=p.useMemo((function(){return a()(a()({},K.button),null==x?void 0:x.style)}),[null==x?void 0:x.style,K.button]),H=(0,b.jsx)(h.Z,a()(a()({start:F,loading:R,type:"inline"===y?"link":"default"},x),{},{onMouseUp:U,onClick:_,onEnd:D,ref:L,style:A}));return(0,v.Z)((function(){P&&L.current.click()})),(0,b.jsxs)("div",{style:{display:"flex"},children:[(0,b.jsx)(m.Z,a()(a()(a()({onChange:t,value:n,allowClear:!0,autoComplete:"off",ref:E},j),s),{},{style:a()(a()({},K.input),null==s?void 0:s.style),suffix:"inline"===y?(0,b.jsxs)(b.Fragment,{children:[null==s?void 0:s.suffix,(0,b.jsx)(C.Z,{type:"vertical"}),H]}):null==s?void 0:s.suffix})),"inline"!==y?H:null]})};n.Z=function(e){var n=e.type,t=e.placeholder,r=void 0===t?"请输入":t,o=e.maxLength,i=e.allowClear,l=e.onGetCaptcha,s=e.initText,c=e.runText,d=e.resetText,f=e.second,p=e.autoClick,v=e.autoFocusOnGetCaptcha,m=void 0===v||v,C=e.inputProps,h=void 0===C?{}:C,k=e.buttonProps,Z=void 0===k?{}:k,w=e.required,T=u()(e,y);return(0,b.jsx)(x.Z,a()(a()({required:w,rules:[{validator:function(e,n){var t="";return n||(t=w?"请输入".concat((0,g.Z)(T)):""),t?Promise.reject(t):Promise.resolve()}}]},T),{},{children:(0,b.jsx)(P,{type:n,onGetCaptcha:l,autoClick:p,autoFocusOnGetCaptcha:m,inputProps:h,placeholder:r,maxLength:o,allowClear:i,buttonProps:a()({initText:s,runText:c,resetText:d,second:f},Z)})}))}},36462:function(e,n,t){t.d(n,{Z:function(){return y}});var r=t(35118),a=t.n(r),o=t(14005),i=t.n(o),l=t(978),u=t(2021),s=t(43673),c=t(38033),d=t(59879),f=t(24174),p=t(14748),v=t(43434),m=t(64915),C=t(50107),h=["value","onChange","type","disabledWhiteSpace","format","maxLength"],x=function(e){var n=e.value,t=e.onChange,r=e.type,o=e.disabledWhiteSpace,u=e.format,s=void 0===u||u,c=e.maxLength,d=i()(e,h),f=l.useMemo((function(){if(void 0!==c)return c;if(!s){if("mobile"===r)return 11;if("idCard"===r)return 18}}),[s,c,r]),x=l.useMemo((function(){return"bankCard"===r||"mobile"===r||"idCard"===r||"email"===r||"userName"===r?"text":r}),[r]),g=l.useMemo((function(){return s&&("bankCard"===r||"mobile"===r||"idCard"===r||"email"===r||"userName"===r||o)}),[s,r,o]),b=l.useMemo((function(){var e={};return"bankCard"===r?e.type="bankCard":"mobile"===r?e.type="mobile":"idCard"===r?(e.maskReg=/[^\dx]/gi,e.placeholderChars=[]):("email"===r||"userName"===r||o)&&(e.maskReg=/\s/g,e.placeholderChars=[]),e}),[o,r]),k=l.useCallback((function(e){return"bankCard"===r?(0,m.KB)(e,s):"mobile"===r?(0,m.q_)(e,s):"idCard"===r?(0,m.d8)(e,s):"email"===r||"userName"===r||o?(0,m.k6)(e):e}),[o,s,r]),y=l.useCallback((function(e){var r=e.target,a=r.selectionEnd,o=r.value,i=k(o);if(null==t||t(i),g){var l=(0,v.Z)(a,n,o,i,b);o!==i?setTimeout((function(){r.selectionStart=r.selectionEnd=l})):r.selectionStart=r.selectionEnd=l}}),[b,g,k,t,n]);return l.useEffect((function(){if(n&&g){var e=k(n);e!==n&&(null==t||t(e))}}),[g,k,t,n]),(0,C.jsx)(p.Z,a()({value:n,onChange:y,type:x,maxLength:f},d))},g=t(79969),b=["placeholder","allowClear","maxLength","type","disabledWhiteSpace","inputProps","required","transform","format"],k={bankCard:function(e){return(0,s.Z)(e,{loose:!0})},email:c.Z,idCard:function(e){return(0,d.Z)(e,{loose:!0})},mobile:u.Z},y=function(e){var n=e.placeholder,t=void 0===n?"请输入":n,r=e.allowClear,o=e.maxLength,s=e.type,c=e.disabledWhiteSpace,d=e.inputProps,p=void 0===d?{}:d,v=e.required,m=void 0!==v&&v,h=e.transform,y=e.format,Z=void 0===y||y,P=i()(e,b),w=l.useMemo((function(){return"bankCard"===s||"idCard"===s||"mobile"===s||"userName"===s||"email"===s}),[s]),T=l.useCallback((function(e){return h?h(e):!Z||"bankCard"!==s&&"mobile"!==s?e:null==e?void 0:e.replace(/\D/g,"")}),[Z,h,s]),j=(0,g.Z)(P);return(0,C.jsx)(f.Z,a()(a()({required:m,rules:[{validator:function(e,n){var t="";return n?"userName"===s?t=function(e,n){var t=n.label,r={validated:!0,message:""};return(0,u.Z)(e)?r.message="".concat(t,"不能为手机号码"):e.indexOf("@")>-1&&(r.message="".concat(t,"不能包含@符号")),r.message&&(r.validated=!1),r}(n,{label:j}).message:k[s]&&!k[s](n)&&(t="请输入正确的".concat(j)):t=m?"请输入".concat(j):"",t?Promise.reject(t):Promise.resolve()},transform:T}],transform:T,validateTrigger:w?"onBlur":"onChange"},P),{},{children:(0,C.jsx)(x,a()({placeholder:t,allowClear:r,maxLength:o,autoComplete:"off",type:s,disabledWhiteSpace:c,format:Z},p))}))}},6763:function(e,n,t){var r=t(35118),a=t.n(r),o=t(14005),i=t.n(o),l=t(978),u=t(14748),s=t(4476),c=t(24174),d=t(79969),f=t(50107),p=["placeholder","allowClear","visibilityToggle","maxLength","level","min","max","ignoreCase","special","validated","disabledPaste","disabledCopy","inputProps","required"],v=["零","一","两","三"];n.Z=function(e){var n=e.placeholder,t=void 0===n?"请输入":n,r=e.allowClear,o=e.visibilityToggle,m=void 0===o||o,C=e.maxLength,h=e.level,x=void 0===h?2:h,g=e.min,b=void 0===g?8:g,k=e.max,y=void 0===k?16:k,Z=e.ignoreCase,P=void 0!==Z&&Z,w=e.special,T=void 0===w?"\\x21-\\x2F\\x3A-\\x40\\x5B-\\x60\\x7B-\\x7E":w,j=e.validated,E=void 0===j||j,L=e.disabledPaste,S=void 0!==L&&L,q=e.disabledCopy,M=void 0===q||q,G=e.inputProps,F=void 0===G?{}:G,B=e.required,N=void 0!==B&&B,O=i()(e,p),R=l.useMemo((function(){var e={len:!0,level:!0,special:!0};return"boolean"==typeof E?E||(e={}):e=a()(a()({},e),E),e}),[E]),W=l.useCallback((function(e){var n;S&&e.preventDefault(),null==F||null===(n=F.onPaste)||void 0===n||n.call(F,e)}),[S,F]),_=l.useCallback((function(e){var n;M&&e.preventDefault(),null==F||null===(n=F.onCopy)||void 0===n||n.call(F,e)}),[M,F]),D=(0,d.Z)(O);return(0,f.jsx)(c.Z,a()(a()({validateTrigger:E?"onBlur":"onChange",required:N,rules:[{validator:function(e,n){var t="";if(n){if(E)if(R.len&&(n.length<b||n.length>y))t="".concat(D,"为").concat(b,"～").concat(y,"位");else{var r=(0,s.Z)(n,{ignoreCase:P,level:x,special:T});R.special&&r.containes.unallowableCharacter?t="".concat(D,"包含无法识别的字符"):R.level&&!r.validated&&(t="".concat(D,"为大小写字母、数字或符号任意").concat(v[x],"者组成"))}}else t=N?"请输入".concat(D):"";return t?Promise.reject(t):Promise.resolve()}}]},O),{},{children:(0,f.jsx)(u.Z.Password,a()(a()({placeholder:t,autoComplete:"off",allowClear:r,visibilityToggle:m,maxLength:C},F),{},{onPaste:W,onCopy:_}))}))}},69075:function(e,n,t){var r=t(35118),a=t.n(r),o=t(17925),i=t.n(o),l=t(14005),u=t.n(l),s=t(978),c=t(6889),d=t(14133),f=t(50107),p=["start","initText","runText","resetText","second","onEnd"],v=s.forwardRef((function(e,n){var t=e.start,r=void 0!==t&&t,o=e.initText,l=void 0===o?"获取验证码":o,v=e.runText,m=void 0===v?"%s秒后重新获取":v,C=e.resetText,h=void 0===C?"重新获取验证码":C,x=e.second,g=void 0===x?60:x,b=e.onEnd,k=u()(e,p),y=(0,s.useState)((function(){return r?1:0})),Z=i()(y,2),P=Z[0],w=Z[1],T=(0,s.useState)(g),j=i()(T,2),E=j[0],L=j[1],S=(0,s.useMemo)((function(){return new d.Z({time:1e3*g,onChange:function(e){L(e/1e3)},onEnd:function(){w(2),null==b||b()}})}),[b,g]);return(0,s.useEffect)((function(){if(r)return w(1),S.start(),function(){S.pause()}}),[S,r]),(0,s.useEffect)((function(){1!==P&&S.reset()}),[S,P]),(0,f.jsxs)(c.ZP,a()(a()({ref:n},k),{},{disabled:1===P,children:[0===P&&l,1===P&&m.replace(/%s/g,E.toString()),2===P&&h]}))}));n.Z=v}}]);