"use strict";(self.webpackChunkantd_more=self.webpackChunkantd_more||[]).push([[9761],{49006:function(n,e,t){t.r(e),t.d(e,{demos:function(){return C}});var r,a,o,i,l,s,u,d,p,c,m,f,v,I,y,b=t(66373),x=t.n(b),h=t(50408),F=t.n(h),g=t(15237),C={"biz-form-demo-base-register":{component:g.memo(g.lazy((function(){return t.e(1799).then(t.bind(t,47122))}))),asset:{type:"BLOCK",id:"biz-form-demo-base-register",refAtomIds:["biz-form"],dependencies:{"index.tsx":{type:"FILE",value:t(44202).Z},react:{type:"NPM",value:"18.3.1"},"antd-more":{type:"NPM",value:"4.2.25"},lcn:{type:"NPM",value:"5.0.6"},ut2:{type:"NPM",value:"1.8.1"}},entry:"index.tsx"},context:{react:t(15237),"antd-more":t(9794),lcn:t(83297),ut2:t(12153)},renderOpts:{compile:(y=F()(x()().mark((function n(){var e,r=arguments;return x()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.e(7251).then(t.bind(t,97251));case 2:return n.abrupt("return",(e=n.sent).default.apply(e,r));case 3:case"end":return n.stop()}}),n)}))),function(){return y.apply(this,arguments)})}},"biz-form-demo-base-login":{component:g.memo(g.lazy((function(){return t.e(1799).then(t.bind(t,62960))}))),asset:{type:"BLOCK",id:"biz-form-demo-base-login",refAtomIds:["biz-form"],dependencies:{"index.tsx":{type:"FILE",value:t(26100).Z},react:{type:"NPM",value:"18.3.1"},antd:{type:"NPM",value:"5.17.0"},"antd-more":{type:"NPM",value:"4.2.25"},"rc-hooks":{type:"NPM",value:"3.0.8"},"@ant-design/icons":{type:"NPM",value:"5.3.7"},ut2:{type:"NPM",value:"1.8.1"},"./components/IdentifyCode.tsx":{type:"FILE",value:t(54115).Z}},entry:"index.tsx"},context:{react:t(15237),antd:t(6914),"antd-more":t(9794),"rc-hooks":t(24057),"@ant-design/icons":t(39986),ut2:t(12153),"./components/IdentifyCode.tsx":t(12483)},renderOpts:{compile:(I=F()(x()().mark((function n(){var e,r=arguments;return x()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.e(7251).then(t.bind(t,97251));case 2:return n.abrupt("return",(e=n.sent).default.apply(e,r));case 3:case"end":return n.stop()}}),n)}))),function(){return I.apply(this,arguments)})}},"biz-form-demo-forget-password":{component:g.memo(g.lazy((function(){return t.e(1799).then(t.bind(t,15328))}))),asset:{type:"BLOCK",id:"biz-form-demo-forget-password",refAtomIds:["biz-form"],dependencies:{"index.tsx":{type:"FILE",value:t(67825).Z},react:{type:"NPM",value:"18.3.1"},antd:{type:"NPM",value:"5.17.0"},"antd-more":{type:"NPM",value:"4.2.25"},ut2:{type:"NPM",value:"1.8.1"}},entry:"index.tsx"},context:{react:t(15237),antd:t(6914),"antd-more":t(9794),ut2:t(12153)},renderOpts:{compile:(v=F()(x()().mark((function n(){var e,r=arguments;return x()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.e(7251).then(t.bind(t,97251));case 2:return n.abrupt("return",(e=n.sent).default.apply(e,r));case 3:case"end":return n.stop()}}),n)}))),function(){return v.apply(this,arguments)})}},"biz-form-demo-change-password":{component:g.memo(g.lazy((function(){return t.e(1799).then(t.bind(t,90802))}))),asset:{type:"BLOCK",id:"biz-form-demo-change-password",refAtomIds:["biz-form"],dependencies:{"index.tsx":{type:"FILE",value:t(54679).Z},react:{type:"NPM",value:"18.3.1"},"antd-more":{type:"NPM",value:"4.2.25"},ut2:{type:"NPM",value:"1.8.1"}},entry:"index.tsx"},context:{react:t(15237),"antd-more":t(9794),ut2:t(12153)},renderOpts:{compile:(f=F()(x()().mark((function n(){var e,r=arguments;return x()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.e(7251).then(t.bind(t,97251));case 2:return n.abrupt("return",(e=n.sent).default.apply(e,r));case 3:case"end":return n.stop()}}),n)}))),function(){return f.apply(this,arguments)})}},"biz-form-demo-upload-real-time":{component:g.memo(g.lazy((function(){return t.e(1799).then(t.bind(t,11619))}))),asset:{type:"BLOCK",id:"biz-form-demo-upload-real-time",refAtomIds:["biz-form"],dependencies:{"index.tsx":{type:"FILE",value:t(84144).Z},react:{type:"NPM",value:"18.3.1"},"antd-more":{type:"NPM",value:"4.2.25"},ut2:{type:"NPM",value:"1.8.1"},"./utils/fileUtils.ts":{type:"FILE",value:t(58948).Z},"./services.ts":{type:"FILE",value:t(49558).Z},cache2:{type:"NPM",value:"2.0.3"}},entry:"index.tsx"},context:{react:t(15237),"antd-more":t(9794),ut2:t(12153),"./utils/fileUtils.ts":t(53778),"./services.ts":t(41631),cache2:t(78754)},renderOpts:{compile:(m=F()(x()().mark((function n(){var e,r=arguments;return x()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.e(7251).then(t.bind(t,97251));case 2:return n.abrupt("return",(e=n.sent).default.apply(e,r));case 3:case"end":return n.stop()}}),n)}))),function(){return m.apply(this,arguments)})}},"biz-form-demo-upload-with-default":{component:g.memo(g.lazy((function(){return t.e(1799).then(t.bind(t,82145))}))),asset:{type:"BLOCK",id:"biz-form-demo-upload-with-default",refAtomIds:["biz-form"],dependencies:{"index.tsx":{type:"FILE",value:t(43013).Z},react:{type:"NPM",value:"18.3.1"},"antd-more":{type:"NPM",value:"4.2.25"},ut2:{type:"NPM",value:"1.8.1"},antd:{type:"NPM",value:"5.17.0"},"./utils/fileUtils.ts":{type:"FILE",value:t(58948).Z},"./services.ts":{type:"FILE",value:t(49558).Z},cache2:{type:"NPM",value:"2.0.3"}},entry:"index.tsx"},context:{react:t(15237),"antd-more":t(9794),ut2:t(12153),antd:t(6914),"./utils/fileUtils.ts":t(53778),"./services.ts":t(41631),cache2:t(78754)},renderOpts:{compile:(c=F()(x()().mark((function n(){var e,r=arguments;return x()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.e(7251).then(t.bind(t,97251));case 2:return n.abrupt("return",(e=n.sent).default.apply(e,r));case 3:case"end":return n.stop()}}),n)}))),function(){return c.apply(this,arguments)})}},"biz-form-demo-upload-no-upload":{component:g.memo(g.lazy((function(){return t.e(1799).then(t.bind(t,93660))}))),asset:{type:"BLOCK",id:"biz-form-demo-upload-no-upload",refAtomIds:["biz-form"],dependencies:{"index.tsx":{type:"FILE",value:t(15135).Z},react:{type:"NPM",value:"18.3.1"},"antd-more":{type:"NPM",value:"4.2.25"},ut2:{type:"NPM",value:"1.8.1"}},entry:"index.tsx"},context:{react:t(15237),"antd-more":t(9794),ut2:t(12153)},renderOpts:{compile:(p=F()(x()().mark((function n(){var e,r=arguments;return x()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.e(7251).then(t.bind(t,97251));case 2:return n.abrupt("return",(e=n.sent).default.apply(e,r));case 3:case"end":return n.stop()}}),n)}))),function(){return p.apply(this,arguments)})}},"biz-form-demo-upload-file-viewer":{component:g.memo(g.lazy((function(){return t.e(1799).then(t.bind(t,46813))}))),asset:{type:"BLOCK",id:"biz-form-demo-upload-file-viewer",refAtomIds:["biz-form"],dependencies:{"index.tsx":{type:"FILE",value:t(42683).Z},react:{type:"NPM",value:"18.3.1"},"antd-more":{type:"NPM",value:"4.2.25"},ut2:{type:"NPM",value:"1.8.1"},"./utils/fileUtils.ts":{type:"FILE",value:t(58948).Z},"./services.ts":{type:"FILE",value:t(49558).Z},cache2:{type:"NPM",value:"2.0.3"}},entry:"index.tsx"},context:{react:t(15237),"antd-more":t(9794),ut2:t(12153),"./utils/fileUtils.ts":t(53778),"./services.ts":t(41631),cache2:t(78754)},renderOpts:{compile:(d=F()(x()().mark((function n(){var e,r=arguments;return x()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.e(7251).then(t.bind(t,97251));case 2:return n.abrupt("return",(e=n.sent).default.apply(e,r));case 3:case"end":return n.stop()}}),n)}))),function(){return d.apply(this,arguments)})}},"biz-form-demo-form-linkage-1":{component:g.memo(g.lazy((function(){return t.e(1799).then(t.bind(t,59447))}))),asset:{type:"BLOCK",id:"biz-form-demo-form-linkage-1",refAtomIds:["biz-form"],dependencies:{"index.tsx":{type:"FILE",value:t(35818).Z},react:{type:"NPM",value:"18.3.1"},"antd-more":{type:"NPM",value:"4.2.25"},ut2:{type:"NPM",value:"1.8.1"},antd:{type:"NPM",value:"5.17.0"}},entry:"index.tsx"},context:{react:t(15237),"antd-more":t(9794),ut2:t(12153),antd:t(6914)},renderOpts:{compile:(u=F()(x()().mark((function n(){var e,r=arguments;return x()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.e(7251).then(t.bind(t,97251));case 2:return n.abrupt("return",(e=n.sent).default.apply(e,r));case 3:case"end":return n.stop()}}),n)}))),function(){return u.apply(this,arguments)})}},"biz-form-demo-form-linkage-2":{component:g.memo(g.lazy((function(){return t.e(1799).then(t.bind(t,6906))}))),asset:{type:"BLOCK",id:"biz-form-demo-form-linkage-2",refAtomIds:["biz-form"],dependencies:{"index.tsx":{type:"FILE",value:t(13268).Z},react:{type:"NPM",value:"18.3.1"},antd:{type:"NPM",value:"5.17.0"},"util-helpers":{type:"NPM",value:"4.21.6"},"antd-more":{type:"NPM",value:"4.2.25"},lcn:{type:"NPM",value:"5.0.6"}},entry:"index.tsx"},context:{react:t(15237),antd:t(6914),"util-helpers":t(86018),"antd-more":t(9794),lcn:t(83297)},renderOpts:{compile:(s=F()(x()().mark((function n(){var e,r=arguments;return x()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.e(7251).then(t.bind(t,97251));case 2:return n.abrupt("return",(e=n.sent).default.apply(e,r));case 3:case"end":return n.stop()}}),n)}))),function(){return s.apply(this,arguments)})}},"biz-form-demo-company-info":{component:g.memo(g.lazy((function(){return t.e(1799).then(t.bind(t,11538))}))),asset:{type:"BLOCK",id:"biz-form-demo-company-info",refAtomIds:["biz-form"],dependencies:{"index.tsx":{type:"FILE",value:t(90429).Z},react:{type:"NPM",value:"18.3.1"},antd:{type:"NPM",value:"5.17.0"},"antd-more":{type:"NPM",value:"4.2.25"},"util-helpers":{type:"NPM",value:"4.21.6"},lcn:{type:"NPM",value:"5.0.6"},ut2:{type:"NPM",value:"1.8.1"}},entry:"index.tsx"},context:{react:t(15237),antd:t(6914),"antd-more":t(9794),"util-helpers":t(86018),lcn:t(83297),ut2:t(12153)},renderOpts:{compile:(l=F()(x()().mark((function n(){var e,r=arguments;return x()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.e(7251).then(t.bind(t,97251));case 2:return n.abrupt("return",(e=n.sent).default.apply(e,r));case 3:case"end":return n.stop()}}),n)}))),function(){return l.apply(this,arguments)})}},"biz-form-demo-settlement-info":{component:g.memo(g.lazy((function(){return t.e(1799).then(t.bind(t,48617))}))),asset:{type:"BLOCK",id:"biz-form-demo-settlement-info",refAtomIds:["biz-form"],dependencies:{"index.tsx":{type:"FILE",value:t(83981).Z},react:{type:"NPM",value:"18.3.1"},antd:{type:"NPM",value:"5.17.0"},"antd-more":{type:"NPM",value:"4.2.25"},lcn:{type:"NPM",value:"5.0.6"},ut2:{type:"NPM",value:"1.8.1"}},entry:"index.tsx"},context:{react:t(15237),antd:t(6914),"antd-more":t(9794),lcn:t(83297),ut2:t(12153)},renderOpts:{compile:(i=F()(x()().mark((function n(){var e,r=arguments;return x()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.e(7251).then(t.bind(t,97251));case 2:return n.abrupt("return",(e=n.sent).default.apply(e,r));case 3:case"end":return n.stop()}}),n)}))),function(){return i.apply(this,arguments)})}},"biz-form-demo-rakebacke-info":{component:g.memo(g.lazy((function(){return t.e(1799).then(t.bind(t,8269))}))),asset:{type:"BLOCK",id:"biz-form-demo-rakebacke-info",refAtomIds:["biz-form"],dependencies:{"index.tsx":{type:"FILE",value:t(65762).Z},react:{type:"NPM",value:"18.3.1"},antd:{type:"NPM",value:"5.17.0"},"antd-more":{type:"NPM",value:"4.2.25"},ut2:{type:"NPM",value:"1.8.1"},"./constants.ts":{type:"FILE",value:t(15905).Z}},entry:"index.tsx"},context:{react:t(15237),antd:t(6914),"antd-more":t(9794),ut2:t(12153),"./constants.ts":t(51446)},renderOpts:{compile:(o=F()(x()().mark((function n(){var e,r=arguments;return x()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.e(7251).then(t.bind(t,97251));case 2:return n.abrupt("return",(e=n.sent).default.apply(e,r));case 3:case"end":return n.stop()}}),n)}))),function(){return o.apply(this,arguments)})}},"biz-form-demo-business-info":{component:g.memo(g.lazy((function(){return t.e(1799).then(t.bind(t,13643))}))),asset:{type:"BLOCK",id:"biz-form-demo-business-info",refAtomIds:["biz-form"],dependencies:{"index.tsx":{type:"FILE",value:t(81489).Z},react:{type:"NPM",value:"18.3.1"},antd:{type:"NPM",value:"5.17.0"},"antd-more":{type:"NPM",value:"4.2.25"},"util-helpers":{type:"NPM",value:"4.21.6"},"./utils/fileUtils.ts":{type:"FILE",value:t(58948).Z},"./services.ts":{type:"FILE",value:t(49558).Z},ut2:{type:"NPM",value:"1.8.1"},cache2:{type:"NPM",value:"2.0.3"}},entry:"index.tsx"},context:{react:t(15237),antd:t(6914),"antd-more":t(9794),"util-helpers":t(86018),"./utils/fileUtils.ts":t(53778),"./services.ts":t(41631),ut2:t(12153),cache2:t(78754)},renderOpts:{compile:(a=F()(x()().mark((function n(){var e,r=arguments;return x()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.e(7251).then(t.bind(t,97251));case 2:return n.abrupt("return",(e=n.sent).default.apply(e,r));case 3:case"end":return n.stop()}}),n)}))),function(){return a.apply(this,arguments)})}},"biz-form-demo-async-initial-values":{component:g.memo(g.lazy((function(){return t.e(1799).then(t.bind(t,31413))}))),asset:{type:"BLOCK",id:"biz-form-demo-async-initial-values",refAtomIds:["biz-form"],dependencies:{"index.tsx":{type:"FILE",value:t(60953).Z},react:{type:"NPM",value:"18.3.1"},"antd-more":{type:"NPM",value:"4.2.25"},ut2:{type:"NPM",value:"1.8.1"}},entry:"index.tsx"},context:{react:t(15237),"antd-more":t(9794),ut2:t(12153)},renderOpts:{compile:(r=F()(x()().mark((function n(){var e,r=arguments;return x()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.e(7251).then(t.bind(t,97251));case 2:return n.abrupt("return",(e=n.sent).default.apply(e,r));case 3:case"end":return n.stop()}}),n)}))),function(){return r.apply(this,arguments)})}}}},12483:function(n,e,t){t.r(e);var r=t(51198),a=t.n(r),o=(t(15237),t(45599)),i=t(97517),l=t(73114);e.default=function(n){var e=n.loading,t=void 0===e||e,r=n.src,s=n.width,u=void 0===s?108:s,d=n.height,p=void 0===d?40:d,c=n.onClick,m=n.style,f=n.className,v=(0,l.jsx)("img",{src:r,style:{display:"block",width:"100%",height:"100%",cursor:"pointer"},alt:"验证码",onClick:c});return(0,l.jsx)(o.Z,{size:"small",spinning:t,children:(0,l.jsx)("div",{className:f,style:a()({width:u,height:p},m),children:r&&(0,l.jsx)(i.Z,{title:"点击刷新验证码",children:v})})})}},51446:function(n,e,t){t.r(e),t.d(e,{BillAccountOptions:function(){return l},Cycle:function(){return r},CycleOptions:function(){return a},RakebackeCycle:function(){return o},RakebackeCycleOptions:function(){return i}});var r=function(n){return n.Day="1",n.Month="2",n.Quarter="3",n}({}),a=[{label:"按日",value:r.Day},{label:"按月",value:r.Month},{label:"按季度",value:r.Quarter}],o=function(n){return n.Day="1",n.Month="2",n}({}),i=[{label:"日返",value:o.Day},{label:"月返",value:o.Month}],l=[{label:"张三",value:"a"},{label:"李四",value:"b"}]},41631:function(n,e,t){t.r(e),t.d(e,{downloadFile:function(){return d},uploadFile:function(){return s}});var r=t(66373),a=t.n(r),o=t(50408),i=t.n(o),l=t(26498);function s(n){return u.apply(this,arguments)}function u(){return(u=i()(a()().mark((function n(e){return a()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("uploadFile: ",e),n.next=3,(0,l.Z)(2e3);case 3:if(!(Math.random()>.2)){n.next=5;break}return n.abrupt("return",{fssid:"".concat(Math.random().toString(16).substring(2))});case 5:throw new Error("error");case 6:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function d(n){return p.apply(this,arguments)}function p(){return(p=i()(a()().mark((function n(e){return a()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("downloadFile: ",e),n.next=3,(0,l.Z)(2e3);case 3:if(!(Math.random()>.2)){n.next=5;break}return n.abrupt("return",{data:"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png"});case 5:throw new Error("error");case 6:case"end":return n.stop()}}),n)})))).apply(this,arguments)}},53778:function(n,e,t){t.r(e),t.d(e,{fssidToUploadFile:function(){return h},uploadFileToFssid:function(){return F},wrapperUploadFile:function(){return v}});var r=t(66373),a=t.n(r),o=t(76439),i=t.n(o),l=t(50408),s=t.n(l),u=t(51198),d=t.n(u),p=t(78754),c=t(56107),m=t(60658),f=t(41631);function v(n){return d()({uid:(0,c.Z)(),status:"done",thumbUrl:n.url,url:n.url,name:""},n)}var I={},y=new p.Cache({max:20,maxStrategy:"replaced",stdTTL:3e5});function b(n){return x.apply(this,arguments)}function x(){return(x=s()(a()().mark((function n(e){var t,r,o,i;return a()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=y.get(e)){n.next=14;break}return I[e]||(I[e]=s()(a()().mark((function n(){return a()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,f.downloadFile)(e).finally((function(){delete I[e]})));case 1:case"end":return n.stop()}}),n)})))),n.prev=3,n.next=6,I[e]();case 6:i=n.sent,y.set(e,i),o=i,n.next=14;break;case 11:return n.prev=11,n.t0=n.catch(3),n.abrupt("return",v({status:"error",error:n.t0,response:{fssid:e}}));case 14:return n.abrupt("return",v({name:null===(t=o)||void 0===t?void 0:t.data,response:{fssid:e},url:null===(r=o)||void 0===r?void 0:r.data}));case 15:case"end":return n.stop()}}),n,null,[[3,11]])})))).apply(this,arguments)}function h(n){if("string"==typeof n)return b(n);if((0,m.Z)(n)){var e=[];return n.forEach((function(n){e.push(b(n))})),Promise.all(e)}return Promise.reject("fssidToUploadFile 参数必须为 string 或 string[]")}function F(n){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=[];return(0,m.Z)(n)&&n.forEach((function(n){if(n&&"object"===i()(n)&&"object"===i()(n.response)){var r=n.response.fssid||n.response.fssId;e&&!r||t.push(r)}})),t}y.on("del",(function(n,e){e&&null!=e&&e.fileUrl&&URL.revokeObjectURL(e.fileUrl)}))},24057:function(n,e,t){t.r(e),t.d(e,{clearCache:function(){return a.LK},useAsync:function(){return r.Z},useClickAway:function(){return L},useControllableValue:function(){return U.Z},useDebounce:function(){return b},useDebounceFn:function(){return y},useLatest:function(){return I.Z},useLimitList:function(){return F},useLoadMore:function(){return c},useMount:function(){return w.Z},useMountedRef:function(){return C.Z},usePagination:function(){return m.Z},usePersistFn:function(){return l.Z},usePrevious:function(){return z},useSafeState:function(){return B.Z},useSetState:function(){return g.Z},useSize:function(){return D},useThrottle:function(){return h.Z},useThrottleFn:function(){return x.Z},useUnmount:function(){return v.Z},useUnmountedRef:function(){return A.Z},useUpdate:function(){return P.Z},useUpdateEffect:function(){return p.Z},useUpdateLayoutEffect:function(){return M}});var r=t(77127),a=t(68322),o=t(28700),i=t(15237),l=t(78391),s=function(n){return null!=n&&n===(null==n?void 0:n.window)};function u(n){return"function"==typeof n?n():n}var d=function(n){var e=void 0===n?{}:n,t=e.target,r=e.threshold,a=void 0===r?100:r,o=e.onScrollLower,d=void 0===o?function(){}:o,p=(0,l.Z)(d),c=(0,i.useCallback)((function(){if(t){var n,e=u(t);if(e)void 0===(n=e)&&(n=window),("undefined"==typeof window?0:s(n)?document.documentElement.scrollHeight:n.scrollHeight)-function(n){return void 0===n&&(n=window),"undefined"==typeof window?0:s(n)?window.scrollY:(null==n?void 0:n.scrollTop)||0}(e)<=function(n){return void 0===n&&(n=window),"undefined"==typeof window?0:s(n)?document.documentElement.clientHeight:n.clientHeight}(e)+a&&p()}}),[p,t,a]);(0,i.useEffect)((function(){if(t){var n=u(t);if(n)return n.addEventListener("scroll",c),function(){n.removeEventListener("scroll",c)}}}),[t,c])},p=t(49401);var c=function(n,e){var t=e||{},a=t.threshold,l=void 0===a?100:a,s=t.target,u=t.isNoMore,c=void 0===u?function(){return!1}:u,m=t.refreshDeps,f=void 0===m?[]:m,v=t.autoRun,I=void 0===v||v,y=(0,o._T)(t,["threshold","target","isNoMore","refreshDeps","autoRun"]),b=(0,i.useRef)([]),x=(0,i.useRef)(1),h=(0,r.Z)(n,(0,o.pi)((0,o.pi)({defaultParams:[{current:x.current}],autoRun:I},y),{onError:function(n,e){var t;x.current>1&&(x.current-=1),null===(t=null==y?void 0:y.onError)||void 0===t||t.call(y,n,e)},__INTERNAL_FORMAT__:function(n){return b.current=1===x.current?n.list:b.current.concat(n.list),(0,o.pi)((0,o.pi)({},n),{list:b.current})}})),F=h.run,g=h.data,C=h.loading,z=h.cancel,B=h.params,w=h.mutate,A=(0,o._T)(h,["run","data","loading","cancel","params","mutate"]),P=!!c&&(!C&&c(g)),M=(0,o.CR)(B||[]),R=M[0],T=M.slice(1),N=(0,i.useCallback)((function(){return F.apply(void 0,[{current:x.current}].concat(T))}),[T,F]),k=(0,i.useCallback)((function(){C&&x.current>1&&(x.current-=1),z()}),[z,C]),L=(0,i.useCallback)((function(){C||P||(x.current+=1,N())}),[C,P,N]),U=(0,i.useCallback)((function(n){var e="function"==typeof n?n(g):n;b.current=(null==e?void 0:e.list)||[],w(e)}),[g,w]),S=(0,i.useCallback)((function(){return k(),x.current=1,U((function(n){return(0,o.pi)((0,o.pi)({},n),{list:[]})})),N()}),[k,N,U]),Z=(0,i.useCallback)((function(){if(!C&&s)return L()}),[L,s,C]);return d({target:s,threshold:l,onScrollLower:Z}),(0,p.Z)((function(){I&&Array.isArray(f)&&f.length>0&&S()}),f),(0,o.pi)((0,o.pi)({},A),{loading:C,data:g,run:F,refresh:S,cancel:k,mutate:U,params:[(0,o.pi)((0,o.pi)({},R),{current:x.current})].concat(T),loadMore:L,loadingMore:C&&x.current>1,noMore:P})},m=t(5068),f=t(3482),v=t(36592),I=t(36117);var y=function(n,e,t){void 0===e&&(e=0),void 0===t&&(t=!1);var r=(0,I.Z)(n),a=(0,i.useRef)((0,f.Z)((function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return r.current.apply(void 0,n)}),e,t));return(0,v.Z)((function(){a.current.cancel()})),{run:a.current,cancel:a.current.cancel,flush:a.current.flush}};var b=function(n,e,t){void 0===e&&(e=0),void 0===t&&(t=!1);var r=(0,o.CR)((0,i.useState)(n),2),a=r[0],l=r[1],s=y(l,e,t).run;return(0,i.useEffect)((function(){s(n)}),[s,n]),a},x=t(87734),h=t(97714);var F=function(n,e){void 0===n&&(n=[]),void 0===e&&(e={});var t=e||{},r=t.count,a=void 0===r?3:r,l=t.defaultLimited,s=void 0===l||l,u=(0,i.useRef)(s),d=(0,i.useMemo)((function(){return Array.isArray(n)?n:[]}),[n]),p=(0,i.useMemo)((function(){return a>0?Math.ceil(a):0}),[a]),c=(0,i.useMemo)((function(){return d.length>p}),[p,d.length]),m=(0,o.CR)((0,i.useState)((function(){return c&&s?d.slice(0,p):d})),2),f=m[0],v=m[1];return(0,i.useEffect)((function(){v(u.current?d.slice(0,p):d)}),[p,d]),{canLimit:c,limited:u.current,data:f,toggle:function(){c&&(u.current=!u.current),v(u.current?d.slice(0,p):d)}}},g=t(733),C=t(91988);function z(n){var e=(0,C.Z)(),t=(0,i.useRef)(),r=(0,i.useRef)(n);return e.current&&r.current!==n&&(t.current=r.current,r.current=n),t.current}var B=t(14065),w=t(87299),A=t(79959),P=t(7526),M=function(n,e){var t=(0,i.useRef)(!1);(0,i.useLayoutEffect)((function(){if(t.current)return n();t.current=!0}),e)},R=t(25564),T=t(76439),N=t.n(T);var k=function(n){return"function"==typeof n?n():"object"===N()(n)&&n&&"current"in n?n.current:n};var L=function(n,e,t){void 0===t&&(t="click");var r=(0,R.Z)(n),a=(0,I.Z)(r),o=r.every((function(n){return"function"==typeof n})),l=o?a:r,s=(0,I.Z)(e),u=(0,R.Z)(t),d=(0,I.Z)(u),p=u.join("");(0,i.useEffect)((function(){var n=function(n){var e;(o?l.current:l).some((function(e){var t=k(e);return!t||(null==t?void 0:t.contains(n.target))}))||null===(e=s.current)||void 0===e||e.call(s,n)},e=(0,R.Z)(d.current);return e.forEach((function(e){document.addEventListener(e,n)})),function(){e.forEach((function(e){document.removeEventListener(e,n)}))}}),[l,o,p])},U=t(83469),S=t(75926),Z="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,E=["top","right","bottom","left","width","height","size","weight"],O={characterData:!0,childList:!0,attributes:!0,subtree:!0},q=function(n){var e=this;this.refresh=function(){e.targetNode&&e.callback([{target:e.targetNode}],{})},this.onTransitionEnd_=function(n){var t=n.propertyName,r=void 0===t?"":t;E.some((function(n){return r.indexOf(n)>-1}))&&e.throttleRefresh()},this.observe=function(n,t){Z&&(e.targetNode=n,document.addEventListener("transitionend",e.onTransitionEnd_),window.addEventListener("resize",e.throttleRefresh),e.observer.observe(document,(0,o.pi)((0,o.pi)({},O),t)))},this.disconnect=function(){Z&&(e.throttleRefresh.cancel(),e.targetNode=null,document.removeEventListener("transitionend",e.onTransitionEnd_),window.removeEventListener("resize",e.throttleRefresh),e.observer.disconnect())},this.throttleRefresh=(0,S.Z)(this.refresh,50),this.targetNode=null,this.callback=n,this.observer=new MutationObserver(this.throttleRefresh)};var D=function(n){var e=(0,I.Z)(n),t="function"==typeof n,r=t?e:n,a=(0,o.CR)((0,i.useState)((function(){var e=k(n);return{width:null==e?void 0:e.clientWidth,height:null==e?void 0:e.clientHeight}})),2),l=a[0],s=a[1];return(0,i.useEffect)((function(){var n=k(t?r.current:r);function e(n){n&&s({width:n.clientWidth,height:n.clientHeight})}if(!n)return function(){};e(n);var a=new q((function(n){n.forEach((function(n){e(n.target)}))}));return a.observe(n),function(){a.disconnect()}}),[r,t]),l}},79209:function(n,e,t){t.r(e),t.d(e,{texts:function(){return r}});const r=[{value:"基于 antd Form 扩展了布局、校验、转换值等功能，帮助业务快速开发。",paraId:0,tocIndex:0},{value:"添加文件后，立即上传到文件服务器，异步返回值将挂载到 ",paraId:1,tocIndex:6},{value:"file.response",paraId:1,tocIndex:6},{value:" 上，提交和校验时取出 ",paraId:1,tocIndex:6},{value:"file.response.fssid",paraId:1,tocIndex:6},{value:" 。",paraId:1,tocIndex:6},{value:"设置 ",paraId:2,tocIndex:6},{value:"onUpload",paraId:2,tocIndex:6},{value:" 后，添加上传文件自动调用并处理上传中状态和失败状态。上传成功的返回值将自动添加到 ",paraId:2,tocIndex:6},{value:"UploadFile",paraId:2,tocIndex:6},{value:" 对象的 ",paraId:2,tocIndex:6},{value:"response",paraId:2,tocIndex:6},{value:" 字段上。表单提交时再获取该值。",paraId:2,tocIndex:6},{value:"如果设置 ",paraId:3,tocIndex:6},{value:"transform",paraId:3,tocIndex:6},{value:" 可以帮助内置的规则进行校验。",paraId:3,tocIndex:6},{value:"修改页面中需要显示已有文件，并且支持实时上传。",paraId:4,tocIndex:7},{value:"将默认值转换成 ",paraId:5,tocIndex:7},{value:"UploadFile[]",paraId:5,tocIndex:7},{value:" 数据格式再传入，加载失败可以通过 ",paraId:5,tocIndex:7},{value:"error.message",paraId:5,tocIndex:7},{value:" 设置提示。",paraId:5,tocIndex:7},{value:"添加文件后不触发上传，在提交时获取所有文件一次性上传。",paraId:6,tocIndex:8},{value:"不设置 ",paraId:7,tocIndex:8},{value:"onUpload",paraId:7,tocIndex:8},{value:" 或 ",paraId:7,tocIndex:8},{value:"action",paraId:7,tocIndex:8},{value:" 的情况下，添加文件不会发起请求。",paraId:7,tocIndex:8},{value:"上传图片、pdf、audio、video 等类型的文件自定义缩略图及预览。关于文件预览可以参考 ",paraId:8,tocIndex:9},{value:"react-file-viewer",paraId:8,tocIndex:9},{value:" 。",paraId:8,tocIndex:9},{value:"通过 ",paraId:9,tocIndex:10},{value:"shouldUpdate",paraId:9,tocIndex:10},{value:" 实现。",paraId:9,tocIndex:10},{value:"通过 ",paraId:10,tocIndex:11},{value:"useWatch",paraId:10,tocIndex:11},{value:" 实现。如果使用 ",paraId:10,tocIndex:11},{value:"onValuesChange",paraId:10,tocIndex:11},{value:" 的方式，在 ",paraId:10,tocIndex:11},{value:"form.setFieldsValue",paraId:10,tocIndex:11},{value:" 修改值时不会触发。",paraId:10,tocIndex:11},{value:"通过 ",paraId:11,tocIndex:16},{value:"ready",paraId:11,tocIndex:16},{value:" 控制表单是否已准备好（如表单的初始值需要通过异步获取）。",paraId:11,tocIndex:16},{value:"import { BizForm } from 'antd-more';\n",paraId:12,tocIndex:17},{value:"除了以下参数，其余和 antd ",paraId:13,tocIndex:18},{value:"Form",paraId:13,tocIndex:18},{value:" 组件一样。",paraId:13,tocIndex:18},{value:"参数",paraId:14,tocIndex:18},{value:"说明",paraId:14,tocIndex:18},{value:"类型",paraId:14,tocIndex:18},{value:"默认值",paraId:14,tocIndex:18},{value:"onFinish",paraId:14,tocIndex:18},{value:"提交数据时触发，和 antd Form 一样。如果返回异步，会自动管理 loading 。",paraId:14,tocIndex:18},{value:"(values) => any",paraId:14,tocIndex:18},{value:"-",paraId:14,tocIndex:18},{value:"onReset",paraId:14,tocIndex:18},{value:"点击重置按钮的回调",paraId:14,tocIndex:18},{value:"(e) => void",paraId:14,tocIndex:18},{value:"-",paraId:14,tocIndex:18},{value:"submitter",paraId:14,tocIndex:18},{value:"提交、重置按钮相关配置",paraId:14,tocIndex:18},{value:"false | BizFormSubmitterProps",paraId:14,tocIndex:18},{value:"-",paraId:14,tocIndex:18},{value:"pressEnterSubmit",paraId:14,tocIndex:18},{value:"是否开启回车键提交，注意不要与自定义的 ",paraId:14,tocIndex:18},{value:"htmlType='submit'",paraId:14,tocIndex:18},{value:" 的按钮冲突。",paraId:14,tocIndex:18},{value:"boolean",paraId:14,tocIndex:18},{value:"true",paraId:14,tocIndex:18},{value:"ready",paraId:14,tocIndex:18},{value:"为 ",paraId:14,tocIndex:18},{value:"false",paraId:14,tocIndex:18},{value:" 时，禁止提交/重置表单。",paraId:14,tocIndex:18},{value:"为 ",paraId:14,tocIndex:18},{value:"true",paraId:14,tocIndex:18},{value:" 时，会重新设置表单初始值。",paraId:14,tocIndex:18},{value:"boolean",paraId:14,tocIndex:18},{value:"true",paraId:14,tocIndex:18},{value:"loading",paraId:14,tocIndex:18},{value:"设置提交、重置的加载/禁止状态。",paraId:14,tocIndex:18},{value:"如果 ",paraId:14,tocIndex:18},{value:"onFinish",paraId:14,tocIndex:18},{value:" 返回异步则无需设置，内部会自动更新。",paraId:14,tocIndex:18},{value:"boolean",paraId:14,tocIndex:18},{value:"false",paraId:14,tocIndex:18},{value:"labelWidth",paraId:14,tocIndex:18},{value:"label 宽度",paraId:14,tocIndex:18},{value:"number | string | false | null",paraId:14,tocIndex:18},{value:"84",paraId:14,tocIndex:18},{value:"hideLabel",paraId:14,tocIndex:18},{value:"隐藏 label",paraId:14,tocIndex:18},{value:"boolean",paraId:14,tocIndex:18},{value:"false",paraId:14,tocIndex:18},{value:"参数",paraId:15,tocIndex:19},{value:"说明",paraId:15,tocIndex:19},{value:"类型",paraId:15,tocIndex:19},{value:"默认值",paraId:15,tocIndex:19},{value:"onSubmit",paraId:15,tocIndex:19},{value:"点击提交按钮的回调",paraId:15,tocIndex:19},{value:"(e) => void",paraId:15,tocIndex:19},{value:"-",paraId:15,tocIndex:19},{value:"onReset",paraId:15,tocIndex:19},{value:"点击重置按钮的回调",paraId:15,tocIndex:19},{value:"(e) => void",paraId:15,tocIndex:19},{value:"-",paraId:15,tocIndex:19},{value:"submitText",paraId:15,tocIndex:19},{value:"提交按钮文本",paraId:15,tocIndex:19},{value:"ReactNode",paraId:15,tocIndex:19},{value:"提交",paraId:15,tocIndex:19},{value:"resetText",paraId:15,tocIndex:19},{value:"重置按钮文本",paraId:15,tocIndex:19},{value:"ReactNode",paraId:15,tocIndex:19},{value:"重置",paraId:15,tocIndex:19},{value:"submitButtonProps",paraId:15,tocIndex:19},{value:"提交按钮属性，和 antd ",paraId:15,tocIndex:19},{value:"Button",paraId:15,tocIndex:19},{value:" 一致",paraId:15,tocIndex:19},{value:"ButtonProps",paraId:15,tocIndex:19},{value:"-",paraId:15,tocIndex:19},{value:"resetButtonProps",paraId:15,tocIndex:19},{value:"重置按钮属性，和 antd ",paraId:15,tocIndex:19},{value:"Button",paraId:15,tocIndex:19},{value:" 一致",paraId:15,tocIndex:19},{value:"ButtonProps",paraId:15,tocIndex:19},{value:"-",paraId:15,tocIndex:19},{value:"noReset",paraId:15,tocIndex:19},{value:"不渲染重置按钮",paraId:15,tocIndex:19},{value:"boolean",paraId:15,tocIndex:19},{value:"false",paraId:15,tocIndex:19},{value:"render",paraId:15,tocIndex:19},{value:"自定义操作的渲染",paraId:15,tocIndex:19},{value:"false | (props: BizFormSubmitterProps, dom: ReactElement[]) => ReactNode",paraId:15,tocIndex:19},{value:"-",paraId:15,tocIndex:19},{value:"submitButtonProps",paraId:16,tocIndex:19},{value:" ",paraId:16,tocIndex:19},{value:"resetButtonProps",paraId:16,tocIndex:19},{value:" 额外支持 ",paraId:16,tocIndex:19},{value:"preventDefault",paraId:16,tocIndex:19},{value:" 配置项，如果设置为 ",paraId:16,tocIndex:19},{value:"true",paraId:16,tocIndex:19},{value:" ，则不触发预置行为。",paraId:16,tocIndex:19},{value:"<BizForm\n  submitter={{\n    submitButtonProps: {\n      preventDefault: true, // 点击提交按钮，不触发表单提交\n      onClick() {} // 自定义点击回调\n    },\n    resetButtonProps: {\n      preventDefault: true, // 点击重置按钮，不触发表单重置\n      onClick() {} // 自定义点击回调\n    }\n  }}\n>\n  // ...\n</BizForm>\n",paraId:17,tocIndex:19}]},60953:function(n,e){e.Z="import * as React from 'react';\nimport { BizForm, BizFormItemInput } from 'antd-more';\nimport { sleep } from 'ut2';\n\nasync function getNameApi() {\n  await sleep(2000);\n  return '李四';\n}\n\nconst Demo = () => {\n  const [ready, setReady] = React.useState(false);\n  const [initialValues, setInitialValues] = React.useState({ name: '张三' });\n\n  React.useEffect(() => {\n    getNameApi().then((name) => {\n      setInitialValues({ name });\n      setReady(true);\n    });\n  }, []);\n\n  return (\n    <BizForm\n      name=\"form-async-initial-values\"\n      onFinish={async (values) => {\n        await sleep();\n        console.log(values);\n      }}\n      ready={ready}\n      initialValues={initialValues}\n    >\n      <BizFormItemInput label=\"姓名\" name=\"name\" />\n    </BizForm>\n  );\n};\n\nexport default Demo;\n"},26100:function(n,e){e.Z='import * as React from \'react\';\nimport { message, Checkbox } from \'antd\';\nimport {\n  BizForm,\n  BizFormItem,\n  BizFormItemInput,\n  BizFormItemCaptcha,\n  BizFormItemPassword\n} from \'antd-more\';\nimport { useAsync } from \'rc-hooks\';\nimport {\n  UserOutlined,\n  LockOutlined,\n  SafetyCertificateOutlined,\n  MobileOutlined,\n  MailOutlined\n} from \'@ant-design/icons\';\nimport IdentifyCode from \'./components/IdentifyCode\';\nimport { sleep } from \'ut2\';\n\nasync function sendCaptcha(mobile) {\n  await sleep(2000);\n  message.success(`验证码已发送至 ${mobile}`);\n  return;\n}\n\nasync function getGraphValidateCode() {\n  await sleep();\n  return `data:image/jpg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAoHBwkHBgoJCAkLCwoMDxkQDw4ODx4WFxIZJCAmJSMgIyIoLTkwKCo2KyIjMkQyNjs9QEBAJjBGS0U+Sjk/QD3/2wBDAQsLCw8NDx0QEB09KSMpPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT3/wgARCAAoAIsDAREAAhEBAxEB/8QAGQABAAMBAQAAAAAAAAAAAAAAAAUGBwQD/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAAA2UAAFdPQngRhwlhAAAAABlZoZIg8ChGiAiziLCACCM8NPJEopegCJKgaKDyM/NFABVivltJwAAAAz8ly0gAHIdYAAAAAAP/EADkQAAEDAQMGCwYHAAAAAAAAAAMCBAUTAAYSAQcQICIjERQwMjM0QlJiksIVFiVyhLIXJDZDUVSi/9oACAEBAAE/ANY18oRq9KyI74XTfpRCCQlLyos0vZEujjbgKeqTYRwtCo9OmWmmcOIa3xCox9wJCfZaNvnCy50Cjntcq9jdiJg8+DlYB8dhnRvattGu39Sn1anu/OtNox8Z+EizR7tnt8xzT9C1aXfVi/JbMn+g/qSaZe8EVB0/aj8DOp0dWwr83aOUYQTTJZSbCN7q3sXLogXK4EYiPsG7qejx2L7r+7Q1xjl37fr7vo+P16nbR89oZT8kU3XKjEN9+7kHouxDvmecS8z9y1KNq7p0i9/UmZFbIGwwePKmNH5an61ptmwHI3ehBxD+FfoKs5CVdin9+ki0DHlWvmIsYf4jTTVYRUoOLc1Buf7RE9zwat/gzJ7puEQPT9vv4PB47P310l3B4kz+mai65X7GxzseO11RyoLvNkTxAkfdun/nks5GWUJliGjJq7cRpy/EeLCXUppWju7dmF5WIxCaAjJgQtgY/hpx63EGaCY0NQ5CfzS5f//EABQRAQAAAAAAAAAAAAAAAAAAAGD/2gAIAQIBAT8ANf/EABQRAQAAAAAAAAAAAAAAAAAAAGD/2gAIAQMBAT8ANf/Z`;\n}\n\nconst LoginDemo = () => {\n  const [form] = BizForm.useForm();\n\n  const { loading, data: src, refresh: refreshGraphValidateCode } = useAsync(getGraphValidateCode);\n\n  return (\n    <div style={{ width: \'80%\', maxWidth: 380, margin: \'0 auto\' }}>\n      <BizForm\n        name="form-login"\n        form={form}\n        onFinish={async (values) => {\n          await sleep(2000);\n          console.log(values);\n        }}\n        submitter={{\n          noReset: true,\n          submitText: \'登录\',\n          submitButtonProps: {\n            size: \'large\',\n            block: true\n          }\n        }}\n        hideLabel\n        size="large"\n      >\n        <BizFormItemInput\n          name="userName"\n          placeholder="请输入用户名"\n          inputProps={{\n            prefix: <UserOutlined />\n          }}\n          label="用户名"\n          required\n        />\n        <BizFormItemPassword\n          name="password"\n          placeholder="请输入密码"\n          inputProps={{\n            prefix: <LockOutlined />\n          }}\n          label="密码"\n          required\n          validated={false}\n        />\n        <BizFormItemInput\n          name="email"\n          type="email"\n          placeholder="请输入邮箱"\n          inputProps={{\n            prefix: <MailOutlined />\n          }}\n          label="邮箱"\n          required\n        />\n        <BizFormItemInput\n          name="mobile"\n          type="mobile"\n          placeholder="请输入手机号码"\n          inputProps={{\n            prefix: <MobileOutlined />\n          }}\n          label="手机号码"\n          required\n        />\n        <BizFormItemCaptcha\n          name="captcha"\n          normalize={(val) => val.replace(/[^\\d]/g, \'\')}\n          placeholder="请输入验证码"\n          maxLength={6}\n          inputProps={{\n            prefix: <SafetyCertificateOutlined />\n          }}\n          required\n          label="验证码"\n          onGetCaptcha={async () => {\n            try {\n              // 验证手机号码或邮箱是否正确\n              await form.validateFields([\'mobile\']);\n            } catch (err) {\n              message.error(\'请输入正确的手机号码\');\n              return false;\n            }\n\n            // 发送验证码\n            return sendCaptcha(form.getFieldValue(\'mobile\'));\n          }}\n        />\n        <BizFormItemInput\n          name="verifyCode"\n          placeholder="请输入图片验证码"\n          inputProps={{\n            prefix: <SafetyCertificateOutlined />\n          }}\n          contentAfter={\n            <IdentifyCode loading={loading} src={src} onClick={refreshGraphValidateCode} />\n          }\n          label="图片验证码"\n          required\n        />\n        <BizFormItem>\n          <BizFormItem noStyle name="autoLogin" valuePropName="checked">\n            <Checkbox>自动登录</Checkbox>\n          </BizFormItem>\n          <a style={{ float: \'right\' }}>忘记密码</a>\n        </BizFormItem>\n      </BizForm>\n    </div>\n  );\n};\n\nexport default LoginDemo;\n'},44202:function(n,e){e.Z='import * as React from \'react\';\nimport { BizForm, BizFormItemInput, BizFormItemAddress, BizFormItemPassword } from \'antd-more\';\nimport { getPCA } from \'lcn\';\nimport { sleep } from \'ut2\';\n\nconst pca = getPCA({ inland: true, fieldNames: { code: \'value\', name: \'label\' } });\n\nconst RegisterDemo = () => {\n  return (\n    <BizForm\n      name="base-register"\n      onFinish={async (values) => {\n        await sleep(2000);\n        console.log(values);\n      }}\n    >\n      <BizFormItemInput\n        label="用户名"\n        name="userName"\n        type="userName"\n        required\n        extendRules={[\n          {\n            min: 6,\n            max: 32,\n            message: \'用户名为6～32位\'\n          }\n        ]}\n      />\n      <BizFormItemInput label="手机号码" name="mobile" type="mobile" required />\n      <BizFormItemInput label="身份证号" name="idCard" type="idCard" required />\n      <BizFormItemInput label="邮箱" name="email" type="email" />\n      <BizFormItemPassword label="密码" name="password" required />\n      <BizFormItemAddress\n        label="地址"\n        names={[\'location\', \'address\']}\n        labels={[\'省/市/区\', \'详细地址\']}\n        required\n        options={pca}\n      />\n    </BizForm>\n  );\n};\n\nexport default RegisterDemo;\n'},81489:function(n,e){e.Z="import * as React from 'react';\nimport { Radio } from 'antd';\nimport { BizForm, BizFormItem, BizFormItemInput, BizFormItemUpload } from 'antd-more';\nimport { isUrl } from 'util-helpers';\nimport { uploadFile } from './services';\nimport { uploadFileToFssid } from './utils/fileUtils';\n\n// 收单方式\n// 0-Other 1-PayPal 2-stripe\nenum CollectType {\n  Other = '0',\n  PayPal = '1',\n  Stripe = '2'\n}\nconst CollectTypeOptions = [\n  {\n    label: 'PayPal',\n    value: CollectType.PayPal\n  },\n  {\n    label: 'stripe',\n    value: CollectType.Stripe\n  },\n  {\n    label: '其他',\n    value: CollectType.Other\n  }\n];\n\nfunction Demo() {\n  const [form] = BizForm.useForm();\n\n  return (\n    <BizForm\n      name=\"business-info\"\n      form={form}\n      onFinish={(values) => {\n        console.log(values);\n      }}\n    >\n      <BizFormItem\n        label=\"收单方式\"\n        name=\"collectType\"\n        required\n        rules={[\n          {\n            validator(rule, value) {\n              if (!value) {\n                return Promise.reject(`请选择收单方式`);\n              }\n\n              return Promise.resolve();\n            }\n          }\n        ]}\n      >\n        <Radio.Group>\n          {CollectTypeOptions.map((item) => {\n            return (\n              <Radio\n                key={item.value}\n                value={item.value}\n                style={item.value === CollectType.Other ? { marginTop: 3, height: 24 } : {}}\n              >\n                <div style={{ display: 'flex' }}>\n                  <span>{item.label}</span>\n                  {item.value === CollectType.Other ? (\n                    <BizFormItem noStyle shouldUpdate>\n                      {() => {\n                        const collectType = form.getFieldValue(['collectType']);\n\n                        if (collectType === CollectType.Other) {\n                          return (\n                            <BizFormItemInput\n                              label=\"收单方式名称\"\n                              name=\"collectName\"\n                              required\n                              hideLabel\n                              inputProps={{\n                                placeholder: '请输入收单方式名称'\n                              }}\n                              style={{ marginTop: -5, marginLeft: 5, marginBottom: 0 }}\n                            />\n                          );\n                        }\n                        return null;\n                      }}\n                    </BizFormItem>\n                  ) : null}\n                </div>\n              </Radio>\n            );\n          })}\n        </Radio.Group>\n      </BizFormItem>\n      <BizFormItemInput\n        label=\"销售地址\"\n        name=\"webSiteUrl\"\n        required\n        maxLength={350}\n        extendRules={[\n          {\n            validator(rule, value) {\n              if (value && !isUrl(value)) {\n                return Promise.reject('请输入正确的网址');\n              }\n              return Promise.resolve();\n            }\n          }\n        ]}\n      />\n      <BizFormItemUpload\n        label=\"证明文件\"\n        name=\"busDesDocument\"\n        type=\"image\"\n        required\n        maxCount={6}\n        maxSize={20 * 1024 * 1024}\n        onUpload={uploadFile}\n        transform={uploadFileToFssid}\n      />\n    </BizForm>\n  );\n}\n\nexport default Demo;\n"},54679:function(n,e){e.Z="import * as React from 'react';\nimport { BizForm, BizFormItem, BizFormItemPassword } from 'antd-more';\nimport { sleep } from 'ut2';\n\nconst Demo = () => {\n  const [form] = BizForm.useForm();\n\n  return (\n    <BizForm\n      submitter={{\n        submitText: '确定',\n        noReset: true\n      }}\n      onFinish={async (values) => {\n        await sleep(2000);\n        console.log(values);\n      }}\n      form={form}\n      labelWidth={98}\n      name=\"form-change-password\"\n    >\n      <BizFormItem label=\"手机号码\">13000000000</BizFormItem>\n      <BizFormItem label=\"用户名\">guest</BizFormItem>\n      <BizFormItemPassword label=\"原密码\" name=\"password\" required validated={false} />\n      <BizFormItemPassword\n        label=\"新密码\"\n        name=\"newPassword\"\n        required\n        dependencies={['password']}\n        extendRules={[\n          {\n            validator(rules, value) {\n              let errMsg = '';\n              const oldPwd = form.getFieldValue('password');\n              if (oldPwd && oldPwd === value) {\n                errMsg = '新密码不能与原密码一致';\n              }\n              if (errMsg) {\n                return Promise.reject(errMsg);\n              }\n\n              return Promise.resolve();\n            }\n          }\n        ]}\n      />\n      <BizFormItemPassword\n        label=\"重复新密码\"\n        name=\"repeatNewPassword\"\n        required\n        dependencies={['newPassword']}\n        rules={[\n          {\n            validator(rules, value) {\n              let errMsg = '';\n              if (!value) {\n                errMsg = '请再次输入新密码';\n              } else if (value !== form.getFieldValue('newPassword')) {\n                errMsg = '两次输入的密码不一致';\n              }\n              if (errMsg) {\n                return Promise.reject(errMsg);\n              }\n              return Promise.resolve();\n            }\n          }\n        ]}\n      />\n    </BizForm>\n  );\n};\n\nexport default Demo;\n"},90429:function(n,e){e.Z="import * as React from 'react';\nimport { Row, Col } from 'antd';\nimport { BizForm, BizFormItemInput, BizFormItemAddress } from 'antd-more';\nimport { isSocialCreditCode, isBusinessLicense } from 'util-helpers';\nimport { getPCA } from 'lcn';\nimport { sleep } from 'ut2';\n\nconst pca = getPCA({ inland: true, fieldNames: { code: 'value', name: 'label' } });\n\nconst oneColSpan = {\n  span: 24\n};\nconst twoColSpan = {\n  span: 24,\n  lg: 12\n};\n\nconst CompanyInfo = () => {\n  return (\n    <BizForm\n      name=\"form-company-info\"\n      onFinish={async (values) => {\n        await sleep(2000);\n        console.log(values);\n      }}\n      initialValues={{\n        businessRegno: '91110000JF7YGXPE8R'\n      }}\n      submitter={{\n        submitText: '提交',\n        submitButtonProps: {\n          size: 'large',\n          style: {\n            padding: '0 40px'\n          }\n        },\n        noReset: true,\n        // 提交按钮居中\n        render: (_, dom) => <div style={{ display: 'flex', justifyContent: 'center' }}>{dom}</div>\n      }}\n      labelWidth={126}\n    >\n      <Row>\n        <Col {...oneColSpan}>\n          <BizFormItemInput\n            label=\"公司名称\"\n            name=\"companyName\"\n            required\n            disabledWhiteSpace\n            placeholder=\"请输入公司营业执照上的商户全称\"\n          />\n        </Col>\n        <Col {...twoColSpan}>\n          <BizFormItemInput\n            label=\"营业执照号\"\n            name=\"businessRegno\"\n            required\n            placeholder=\"请输入统一社会信用代码或营业执照号\"\n            rules={[\n              {\n                validator(rules, value) {\n                  let errMsg = '';\n                  if (!value) {\n                    errMsg = '请输入统一社会信用代码或营业执照号';\n                  } else if (!isBusinessLicense(value) && !isSocialCreditCode(value)) {\n                    errMsg = '请输入正确的营业执照号';\n                  }\n                  if (errMsg) {\n                    return Promise.reject(errMsg);\n                  }\n                  return Promise.resolve();\n                }\n              }\n            ]}\n          />\n        </Col>\n        <Col {...twoColSpan}>\n          <BizFormItemInput label=\"法人姓名\" name=\"legalName\" required />\n        </Col>\n        <Col {...twoColSpan}>\n          <BizFormItemInput label=\"法人身份证号\" name=\"legalIdCard\" type=\"idCard\" required />\n        </Col>\n        <Col {...twoColSpan}>\n          <BizFormItemInput label=\"法人手机号码\" name=\"legalMobile\" type=\"mobile\" required />\n        </Col>\n        <Col {...oneColSpan}>\n          <BizFormItemAddress\n            label=\"公司地址\"\n            names={['location', 'address']}\n            labels={['省/市/区', '详细地址']}\n            options={pca}\n            required\n          />\n        </Col>\n      </Row>\n    </BizForm>\n  );\n};\n\nexport default CompanyInfo;\n"},54115:function(n,e){e.Z="import * as React from 'react';\nimport { Tooltip, Spin } from 'antd';\n\ninterface IdentifyCodeProps {\n  loading?: boolean;\n  src?: string;\n  width?: string | number;\n  height?: string | number;\n  onClick?: () => void;\n  style?: React.CSSProperties;\n  className?: string;\n}\n\nconst IdentifyCode: React.FC<IdentifyCodeProps> = ({\n  loading = true,\n  src,\n  width = 108,\n  height = 40,\n  onClick,\n  style,\n  className\n}) => {\n  const img = (\n    <img\n      src={src}\n      style={{ display: 'block', width: '100%', height: '100%', cursor: 'pointer' }}\n      alt=\"验证码\"\n      onClick={onClick}\n    />\n  );\n\n  return (\n    <Spin size=\"small\" spinning={loading}>\n      <div className={className} style={{ width, height, ...style }}>\n        {src && <Tooltip title=\"点击刷新验证码\">{img}</Tooltip>}\n      </div>\n    </Spin>\n  );\n};\n\nexport default IdentifyCode;\n"},15905:function(n,e){e.Z="// 周期\n// 1-日 2-月 3-季\nexport enum Cycle {\n  Day = '1',\n  Month = '2',\n  Quarter = '3'\n}\n\n// 周期选项\nexport const CycleOptions = [\n  {\n    label: '按日',\n    value: Cycle.Day\n  },\n  {\n    label: '按月',\n    value: Cycle.Month\n  },\n  {\n    label: '按季度',\n    value: Cycle.Quarter\n  }\n];\n\n// 返佣周期\n// 1-日 2-月\nexport enum RakebackeCycle {\n  Day = '1',\n  Month = '2'\n}\n\n// 返佣周期选项\nexport const RakebackeCycleOptions = [\n  {\n    label: '日返',\n    value: RakebackeCycle.Day\n  },\n  {\n    label: '月返',\n    value: RakebackeCycle.Month\n  }\n];\n\n// 收款账号选项\nexport const BillAccountOptions = [\n  {\n    label: '张三',\n    value: 'a'\n  },\n  {\n    label: '李四',\n    value: 'b'\n  }\n];\n"},67825:function(n,e){e.Z="import * as React from 'react';\nimport { message } from 'antd';\nimport { BizForm, BizFormItemCaptcha, BizFormItemPassword, BizFormItemInput } from 'antd-more';\nimport { sleep } from 'ut2';\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nasync function sendCaptcha(mobile: string) {\n  await sleep(2000);\n  return;\n}\n\nconst ForgetPassword = () => {\n  const [form] = BizForm.useForm();\n\n  return (\n    <BizForm\n      name=\"form-forget-password\"\n      onFinish={async (values) => {\n        await sleep();\n        console.log(values);\n      }}\n      submitter={{\n        submitText: '确定',\n        noReset: true\n      }}\n      form={form}\n      labelWidth={98}\n    >\n      <BizFormItemInput label=\"手机号码\" name=\"mobile\" type=\"mobile\" required />\n      <BizFormItemCaptcha\n        label=\"验证码\"\n        name=\"captcha\"\n        required\n        normalize={(val) => val.replace(/[^\\d]/g, '')}\n        maxLength={6}\n        onGetCaptcha={async () => {\n          try {\n            // 验证手机号码或邮箱是否正确\n            await form.validateFields(['mobile']);\n          } catch (err) {\n            message.error('请输入正确的手机号码');\n            return false;\n          }\n\n          // 发送验证码\n          return sendCaptcha(form.getFieldValue('mobile'));\n        }}\n      />\n      <BizFormItemPassword label=\"新密码\" name=\"password\" required allowClear={false} />\n      <BizFormItemPassword\n        label=\"重复新密码\"\n        name=\"repeatPassword\"\n        required\n        dependencies={['password']}\n        validateTrigger=\"onBlur\"\n        rules={[\n          {\n            validator(rules, value) {\n              let errMsg = '';\n              if (!value) {\n                errMsg = '请再次输入新密码';\n              } else if (value !== form.getFieldValue('password')) {\n                errMsg = '两次输入的密码不一致';\n              }\n              if (errMsg) {\n                return Promise.reject(errMsg);\n              }\n              return Promise.resolve();\n            }\n          }\n        ]}\n      />\n    </BizForm>\n  );\n};\n\nexport default ForgetPassword;\n"},35818:function(n,e){e.Z="import * as React from 'react';\nimport {\n  BizForm,\n  BizFormItemRadio,\n  BizFormItemInput,\n  BizFormItemCaptcha,\n  BizFormItemPassword\n} from 'antd-more';\nimport { sleep } from 'ut2';\nimport { message } from 'antd';\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nasync function sendCaptcha(mobile: string) {\n  await sleep(2000);\n  return;\n}\n\nenum LoginType {\n  Message,\n  Account\n}\n\nconst LoginTypeOptions = [\n  {\n    label: '短信验证码',\n    value: LoginType.Message\n  },\n  {\n    label: '账号密码',\n    value: LoginType.Account\n  }\n];\n\nfunction Demo() {\n  return (\n    <BizForm\n      submitter={{\n        submitText: '提交',\n        submitButtonProps: {\n          size: 'large',\n          style: {\n            padding: '0 40px'\n          }\n        },\n        noReset: true\n      }}\n      labelWidth={98}\n      onFinish={(values) => {\n        console.log(values);\n      }}\n      initialValues={{\n        loginType: LoginType.Message\n      }}\n    >\n      <BizFormItemRadio\n        label=\"登录方式\"\n        name=\"loginType\"\n        options={LoginTypeOptions}\n        optionType=\"button\"\n        radioGroupProps={{ buttonStyle: 'solid' }}\n      />\n      <BizForm.Item\n        noStyle\n        shouldUpdate={(prevVlaue, nextValue) => prevVlaue.loginType !== nextValue.loginType}\n      >\n        {(form) => {\n          if (form.getFieldValue('loginType') === LoginType.Message) {\n            return (\n              <>\n                <BizFormItemInput label=\"手机号码\" name=\"mobile\" type=\"mobile\" required />\n                <BizFormItemCaptcha\n                  label=\"短信验证码\"\n                  name=\"code\"\n                  required\n                  onGetCaptcha={async () => {\n                    try {\n                      await form.validateFields(['mobile']);\n                    } catch (err) {\n                      message.error('请输入正确的手机号码');\n                      return false;\n                    }\n                    return sendCaptcha(form.getFieldValue('mobile'));\n                  }}\n                />\n              </>\n            );\n          } else {\n            return (\n              <>\n                <BizFormItemInput\n                  label=\"账户\"\n                  name=\"account\"\n                  disabledWhiteSpace\n                  placeholder=\"请输入手机号码或邮箱\"\n                  required\n                />\n                <BizFormItemPassword label=\"密码\" name=\"password\" validated={false} required />\n              </>\n            );\n          }\n        }}\n      </BizForm.Item>\n    </BizForm>\n  );\n}\n\nexport default Demo;\n"},13268:function(n,e){e.Z="import * as React from 'react';\nimport { Row, Col } from 'antd';\nimport { isBusinessLicense, isSocialCreditCode } from 'util-helpers';\nimport { BizForm, BizFormItemRadio, BizFormItemInput, BizFormItemAddress } from 'antd-more';\nimport { getPCA } from 'lcn';\n\nconst pca = getPCA({ inland: true, fieldNames: { code: 'value', name: 'label' } });\n\n// 机构类型\n// 1-公司 2-个人\nenum OrgType {\n  Company = 1,\n  Person\n}\n\n// 机构类型选项\nconst OrgTypeOptions = [\n  {\n    label: '公司',\n    value: OrgType.Company\n  },\n  {\n    label: '个人',\n    value: OrgType.Person\n  }\n];\n\nconst oneColSpan = {\n  span: 24\n};\nconst twoColSpan = {\n  span: 24,\n  lg: 12\n};\n\nconst BaseInfo = () => {\n  const initialValues = React.useMemo(\n    () => ({\n      orgType: OrgType.Company,\n      businessRegno: '91110000JF7YGXPE8R'\n    }),\n    []\n  );\n  const [form] = BizForm.useForm();\n  const orgType = BizForm.useWatch(['orgType'], form);\n\n  const isCompany = orgType === OrgType.Company;\n  const legalIdCardLabel = `${isCompany ? '法人' : ''}身份证号`;\n  const legalMobileLabel = `${isCompany ? '法人' : ''}手机号码`;\n  const orgNamePlaceholder = `请输入${\n    isCompany ? '公司营业执照上的商户全称' : '机构代表人姓名'\n  }，将作为机构名称`;\n\n  return (\n    <BizForm\n      name=\"form-linkage2\"\n      form={form}\n      labelWidth={126}\n      initialValues={initialValues}\n      onFinish={(values) => {\n        console.log(values);\n      }}\n      submitter={{\n        submitText: '提交',\n        submitButtonProps: {\n          size: 'large',\n          style: {\n            padding: '0 40px'\n          }\n        },\n        // reset 操作对联动表单有异常\n        noReset: true,\n        // 提交按钮居中\n        render: (_, dom) => <div style={{ display: 'flex', justifyContent: 'center' }}>{dom}</div>\n      }}\n    >\n      <Row>\n        <Col {...oneColSpan}>\n          <BizFormItemRadio\n            label=\"机构类型\"\n            name=\"orgType\"\n            options={OrgTypeOptions}\n            extra=\"“公司”有营业执照、“个人”无营业执照\"\n            required\n          />\n        </Col>\n        <Col {...oneColSpan}>\n          <BizFormItemInput\n            label=\"机构名称\"\n            name=\"orgName\"\n            placeholder={orgNamePlaceholder}\n            disabledWhiteSpace\n            required\n          />\n        </Col>\n        {isCompany && (\n          <>\n            <Col {...twoColSpan}>\n              <BizFormItemInput\n                label=\"营业执照号\"\n                name=\"businessRegno\"\n                placeholder=\"请输入统一社会信用代码或营业执照号\"\n                maxLength={18}\n                required\n                rules={[\n                  {\n                    validator(rules, value) {\n                      let errMsg = '';\n                      if (!value) {\n                        errMsg = '请输入统一社会信用代码或营业执照号';\n                      } else if (!isBusinessLicense(value) && !isSocialCreditCode(value)) {\n                        errMsg = '请输入正确的营业执照号';\n                      }\n                      if (errMsg) {\n                        return Promise.reject(errMsg);\n                      }\n                      return Promise.resolve();\n                    }\n                  }\n                ]}\n              />\n            </Col>\n            <Col {...twoColSpan}>\n              <BizFormItemInput label=\"法人姓名\" name=\"legalName\" required disabledWhiteSpace />\n            </Col>\n          </>\n        )}\n        <Col {...twoColSpan}>\n          <BizFormItemInput\n            label={legalIdCardLabel}\n            // 用于修改默认验证信息\n            messageVariables={{ label: '身份证号' }}\n            name=\"legalIdCard\"\n            type=\"idCard\"\n            required\n          />\n        </Col>\n        <Col {...twoColSpan}>\n          <BizFormItemInput\n            label={legalMobileLabel}\n            // 用于修改默认验证信息\n            messageVariables={{ label: '手机号码' }}\n            name=\"legalMobile\"\n            type=\"mobile\"\n            required\n          />\n        </Col>\n        <Col {...oneColSpan}>\n          <BizFormItemAddress\n            label=\"机构所在地址\"\n            labels={['省/市/区', '详细地址']}\n            names={['location', 'address']}\n            options={pca}\n            required\n          />\n        </Col>\n      </Row>\n    </BizForm>\n  );\n};\n\nexport default BaseInfo;\n"},65762:function(n,e){e.Z='import * as React from \'react\';\nimport { Row, Col } from \'antd\';\nimport { BizForm, BizFormItem, BizFormItemRadio, BizFormItemNumber } from \'antd-more\';\nimport { sleep } from \'ut2\';\nimport { RakebackeCycleOptions } from \'./constants\';\n\nconst oneColSpan = {\n  span: 24\n};\nconst threeColSpan = {\n  span: 24,\n  lg: 12,\n  xl: 8\n};\n\nconst RakebackeInfo = () => {\n  return (\n    <BizForm\n      name="form-rakebacke-info"\n      onFinish={async (values) => {\n        await sleep(2000);\n        console.log(values);\n      }}\n      submitter={{\n        submitText: \'提交\',\n        submitButtonProps: {\n          size: \'large\',\n          style: {\n            padding: \'0 40px\'\n          }\n        },\n        noReset: true,\n        // 提交按钮居中\n        render: (_, dom) => <div style={{ display: \'flex\', justifyContent: \'center\' }}>{dom}</div>\n      }}\n      labelWidth={112}\n    >\n      <Row>\n        <Col {...oneColSpan}>\n          <BizFormItemRadio\n            label="返佣周期"\n            name="rakebackeCycle"\n            required\n            options={RakebackeCycleOptions}\n          />\n        </Col>\n        <Col {...oneColSpan}>\n          <BizFormItem label="普通刷卡" colon={false}>\n            <Row>\n              <Col {...threeColSpan}>\n                <BizFormItemNumber\n                  label="借记卡"\n                  name="costpriceCp"\n                  labelWidth={98}\n                  required\n                  precision={2}\n                  addonAfter="%"\n                  gt={0}\n                  lt={100}\n                />\n              </Col>\n              <Col {...threeColSpan}>\n                <BizFormItemNumber\n                  label="借记卡封顶"\n                  name="costpriceCpMaxFee"\n                  labelWidth={98}\n                  required\n                  precision={2}\n                  addonAfter="元"\n                  gt={0}\n                />\n              </Col>\n              <Col {...threeColSpan}>\n                <BizFormItemNumber\n                  label="贷记卡"\n                  name="costpriceCpCredit"\n                  labelWidth={98}\n                  required\n                  precision={2}\n                  addonAfter="%"\n                  gt={0}\n                  lt={100}\n                />\n              </Col>\n              <Col {...threeColSpan}>\n                <BizFormItemNumber\n                  label="IC卡小额"\n                  name="costpriceIC"\n                  labelWidth={98}\n                  required\n                  precision={2}\n                  tooltip="IC卡小额双免优惠费率"\n                  addonAfter="%"\n                  gt={0}\n                  lt={100}\n                />\n              </Col>\n            </Row>\n          </BizFormItem>\n        </Col>\n        <Col {...oneColSpan}>\n          <BizFormItem label="扫码支付" colon={false}>\n            <Row>\n              <Col {...threeColSpan}>\n                <BizFormItemNumber\n                  label="支付宝"\n                  name="costpriceAlipay"\n                  labelWidth={98}\n                  required\n                  precision={2}\n                  addonAfter="%"\n                  gt={0}\n                  lt={100}\n                />\n              </Col>\n              <Col {...threeColSpan}>\n                <BizFormItemNumber\n                  label="微信"\n                  name="costpriceWechat"\n                  labelWidth={98}\n                  required\n                  precision={2}\n                  addonAfter="%"\n                  gt={0}\n                  lt={100}\n                />\n              </Col>\n              <Col {...threeColSpan}>\n                <BizFormItemNumber\n                  label="银二小额"\n                  name="costpriceUionpay"\n                  labelWidth={98}\n                  required\n                  precision={2}\n                  tooltip="银联二维码小额优惠费率"\n                  addonAfter="%"\n                  gt={0}\n                  lt={100}\n                />\n              </Col>\n            </Row>\n          </BizFormItem>\n        </Col>\n        <Col {...oneColSpan}>\n          <BizFormItem label="结算" colon={false}>\n            <Row>\n              <Col {...threeColSpan}>\n                <BizFormItemNumber\n                  label="结算手续费"\n                  name="settlementFee"\n                  labelWidth={98}\n                  required\n                  precision={2}\n                  addonAfter="元/笔"\n                  gte={0}\n                />\n              </Col>\n            </Row>\n          </BizFormItem>\n        </Col>\n      </Row>\n    </BizForm>\n  );\n};\n\nexport default RakebackeInfo;\n'},49558:function(n,e){e.Z="import { sleep } from 'ut2';\n\n// 上传文件\nexport async function uploadFile(file: File): Promise<{ fssid: string }> {\n  console.log('uploadFile: ', file);\n\n  await sleep(2000);\n  if (Math.random() > 0.2) {\n    return {\n      fssid: `${Math.random().toString(16).substring(2)}`\n    };\n  }\n  throw new Error('error');\n}\n\n// 下载文件\nexport async function downloadFile(fssid: string) {\n  console.log('downloadFile: ', fssid);\n\n  await sleep(2000);\n  if (Math.random() > 0.2) {\n    return {\n      data: `https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png`\n    };\n  }\n  throw new Error('error');\n}\n"},83981:function(n,e){e.Z="import * as React from 'react';\nimport { Row, Col } from 'antd';\nimport { BizForm, BizFormItemInput, BizFormItemAddress, BizFormItemRadio } from 'antd-more';\nimport { getPC } from 'lcn';\nimport { sleep } from 'ut2';\n\nconst pc = getPC({ inland: true, fieldNames: { code: 'value', name: 'label' } });\n\nconst oneColSpan = {\n  span: 24\n};\nconst twoColSpan = {\n  span: 24,\n  lg: 12\n};\n\n// 结算方式\nconst SettlementCycleOptions = [\n  {\n    value: 'T1',\n    label: 'T+1'\n  },\n  {\n    value: 'D1',\n    label: 'D+1'\n  }\n];\n\n// 结算类型\nconst SettlementTypeOptions = [\n  {\n    value: 0,\n    label: '对公账户'\n  },\n  {\n    value: 1,\n    label: '对私账户'\n  }\n];\n\nconst SettlementInfo = () => {\n  return (\n    <BizForm\n      name=\"form-settlement-info\"\n      onFinish={async (values) => {\n        await sleep(2000);\n        console.log(values);\n      }}\n      submitter={{\n        submitText: '提交',\n        submitButtonProps: {\n          size: 'large',\n          style: {\n            padding: '0 40px'\n          }\n        },\n        noReset: true,\n        // 提交按钮居中\n        render: (_, dom) => <div style={{ display: 'flex', justifyContent: 'center' }}>{dom}</div>\n      }}\n      labelWidth={112}\n    >\n      <Row>\n        <Col {...oneColSpan}>\n          <BizFormItemRadio\n            label=\"结算方式\"\n            name=\"settlementCycle\"\n            required\n            options={SettlementCycleOptions}\n            tooltip=\"T为工作日，D为自然日\"\n          />\n        </Col>\n        <Col {...oneColSpan}>\n          <BizFormItemRadio\n            label=\"结算类型\"\n            name=\"settlementType\"\n            required\n            options={SettlementTypeOptions}\n          />\n        </Col>\n        <Col {...oneColSpan}>\n          <BizFormItemInput label=\"账户名称\" name=\"bankCertName\" required />\n        </Col>\n        <Col {...twoColSpan}>\n          <BizFormItemInput label=\"银行卡号\" name=\"bankCardNo\" type=\"bankCard\" required />\n        </Col>\n        <Col {...twoColSpan}>\n          <BizFormItemInput label=\"开户银行名称\" name=\"bankName\" required />\n        </Col>\n        <Col {...oneColSpan}>\n          <BizFormItemAddress\n            label=\"开户支行\"\n            names={['branchLocation', 'branchName']}\n            labels={['省/市', '支行名称']}\n            required\n            options={pc}\n          />\n        </Col>\n      </Row>\n    </BizForm>\n  );\n};\n\nexport default SettlementInfo;\n"},42683:function(n,e){e.Z="import * as React from 'react';\nimport type { UploadFile } from 'antd';\nimport { BizForm, BizFormItemUpload, FileViewer } from 'antd-more';\nimport { sleep } from 'ut2';\nimport { uploadFile } from './services';\nimport { uploadFileToFssid } from './utils/fileUtils';\n\nconst Demo = () => {\n  const [fileInfo, setFileInfo] = React.useState<UploadFile>();\n  const [open, setOpen] = React.useState(false);\n\n  return (\n    <div>\n      <BizForm\n        name=\"upload-file-viewer\"\n        onFinish={async (values) => {\n          await sleep();\n          console.log(values);\n        }}\n        labelWidth={98}\n      >\n        <BizFormItemUpload\n          name=\"files\"\n          label=\"任意文件\"\n          type=\"image\"\n          accept=\"*\"\n          maxCount={9}\n          maxSize={1024 * 1024 * 10}\n          multiple\n          required\n          onUpload={uploadFile}\n          transform={uploadFileToFssid}\n          uploadProps={{\n            onPreview(file) {\n              setFileInfo(file);\n              setOpen(true);\n            },\n            onRemove: FileViewer.removeFile,\n            previewFile: FileViewer.previewFile\n          }}\n        />\n      </BizForm>\n      <FileViewer open={open} onCancel={() => setOpen(false)} file={fileInfo} />\n    </div>\n  );\n};\n\nexport default Demo;\n"},15135:function(n,e){e.Z='import * as React from \'react\';\nimport { BizForm, BizFormItemUpload } from \'antd-more\';\nimport { sleep } from \'ut2\';\n\nconst Demo = () => {\n  return (\n    <BizForm\n      name="upload-no-upload"\n      onFinish={async (values) => {\n        await sleep();\n        console.log(values);\n      }}\n      labelWidth={98}\n    >\n      <BizFormItemUpload\n        name="doc"\n        label="doc文档"\n        maxCount={1}\n        accept=".doc,.docx,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document"\n        fileTypeMessage="不支持文件类型"\n      />\n      <BizFormItemUpload\n        name="xls"\n        label="xls文档"\n        accept=".xls,.xlsx,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel"\n        required\n        fileTypeMessage="不支持文件类型"\n      />\n      <BizFormItemUpload\n        name="images"\n        label="图片"\n        type="image"\n        tooltip="配置multiple后，支持多选"\n        maxCount={9}\n        required\n        multiple\n      />\n      <BizFormItemUpload\n        name="headpic01"\n        label="头像1"\n        type="avatar"\n        tooltip="点击图片区域上传替换，常用于头像或封面，不支持预览"\n        required\n      />\n      <BizFormItemUpload\n        name="headpic02"\n        label="头像2"\n        type="image"\n        maxCount={1}\n        tooltip="使用image的方式，修改时需要先删除才能再上传"\n        required\n      />\n      <BizFormItemUpload name="dragger" label="拖拽上传" type="dragger" required multiple />\n    </BizForm>\n  );\n};\n\nexport default Demo;\n'},84144:function(n,e){e.Z='import * as React from \'react\';\nimport { BizForm, BizFormItemUpload } from \'antd-more\';\nimport { sleep } from \'ut2\';\nimport { uploadFile } from \'./services\';\nimport { uploadFileToFssid } from \'./utils/fileUtils\';\n\nconst Demo = () => {\n  return (\n    <BizForm\n      name="upload-real-time"\n      onFinish={async (values) => {\n        await sleep();\n        console.log(values);\n      }}\n      labelWidth={98}\n    >\n      <BizFormItemUpload\n        name="doc"\n        label="doc文档"\n        maxCount={1}\n        accept=".doc,.docx,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document"\n        fileTypeMessage="不支持文件类型"\n        onUpload={uploadFile}\n        transform={uploadFileToFssid}\n      />\n      <BizFormItemUpload\n        name="xls1"\n        label="xls文档1"\n        accept=".xls,.xlsx,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel"\n        required\n        fileTypeMessage="不支持文件类型"\n        // 使用自定义上传\n        onUpload={uploadFile}\n        transform={uploadFileToFssid}\n      />\n      <BizFormItemUpload\n        name="xls2"\n        label="xls文档2"\n        accept=".xls,.xlsx,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel"\n        required\n        fileTypeMessage="不支持文件类型"\n        tooltip="使用action上传"\n        // 使用 action 上传\n        uploadProps={{\n          name: \'file\',\n          action: \'https://www.mocky.io/v2/5cc8019d300000980a055e76\',\n          headers: {\n            authorization: \'authorization-text\'\n          }\n        }}\n        transform={uploadFileToFssid}\n      />\n      <BizFormItemUpload\n        name="images"\n        label="图片"\n        type="image"\n        maxCount={9}\n        required\n        onUpload={uploadFile}\n        transform={uploadFileToFssid}\n      />\n      {/* <BizFormItemUpload\n        name="headpic01"\n        label="头像1"\n        type="avatar"\n        tooltip="点击图片区域上传替换，常用于头像或封面，不支持预览"\n        required\n        onUpload={uploadFile}\n        transform={uploadFileToFssid}\n      />\n      <BizFormItemUpload\n        name="headpic02"\n        label="头像2"\n        type="image"\n        maxCount={1}\n        tooltip="使用image的方式，修改时需要先删除才能再上传"\n        required\n        onUpload={uploadFile}\n        transform={uploadFileToFssid}\n      /> */}\n      {/* <BizFormList name=\'test\' initialValue={[{ headpic03: [] }]}>\n        {\n          fields => fields.map(field => (\n            <BizFormItemUpload\n              {...field}\n              key={field.key}\n              name={[field.name, \'headpic03\']}\n              label="头像3"\n              type="image"\n              maxCount={1}\n              tooltip="使用image的方式，修改时需要先删除才能再上传"\n              required\n              onUpload={uploadFile}\n              transform={uploadFileToFssid}\n            />\n          ))\n        }\n      </BizFormList> */}\n      {/* <BizFormItemUpload\n        name="dragger"\n        label="拖拽上传"\n        type="dragger"\n        required\n        multiple\n        onUpload={uploadFile}\n        transform={uploadFileToFssid}\n      /> */}\n    </BizForm>\n  );\n};\n\nexport default Demo;\n'},43013:function(n,e){e.Z="import * as React from 'react';\nimport { BizForm, BizFormItemUpload } from 'antd-more';\nimport { sleep } from 'ut2';\nimport { downloadFile, uploadFile } from './services';\nimport type { UploadFile } from 'antd';\nimport { Spin } from 'antd';\nimport { uploadFileToFssid } from './utils/fileUtils';\n\n// 默认初始值 fssid\nconst internalFssids = ['aaa', 'bbb', 'ccc'];\n\n// 将值转换为 UploadFile 对象\nconst transformUploadFiles = async (fssids: string[]) => {\n  const tasks: Promise<{ data: string }>[] = [];\n  const ret: UploadFile[] = [];\n  for (let i = 0; i < fssids.length; i += 1) {\n    tasks.push(downloadFile(fssids[i]));\n  }\n\n  await Promise.allSettled(tasks).then((results) => {\n    results.forEach((item, index) => {\n      const fulfilled = item.status === 'fulfilled';\n\n      ret.push({\n        uid: `${-index}`,\n        status: fulfilled ? 'done' : 'error',\n        name: fulfilled ? item.value.data.substring(item.value.data.lastIndexOf('/') + 1) : '',\n        url: fulfilled ? item.value.data : undefined,\n        // 用于在提交时获取真实的value\n        response: {\n          fssid: fssids[index]\n        },\n        error: fulfilled\n          ? undefined\n          : {\n              message: '图片加载失败'\n            }\n      });\n    });\n  });\n\n  return ret;\n};\n\nconst Demo = () => {\n  const [loading, setLoading] = React.useState(true);\n  const [form] = BizForm.useForm();\n\n  // 初次转换值\n  const init = React.useCallback(async () => {\n    const images = await transformUploadFiles(internalFssids);\n    form.setFieldsValue({ images });\n    setLoading(false);\n  }, [form]);\n\n  React.useEffect(() => {\n    init();\n  }, [init]);\n\n  return (\n    <Spin spinning={loading}>\n      <BizForm\n        name=\"upload-with-default\"\n        form={form}\n        onFinish={async (values) => {\n          await sleep();\n          console.log(values);\n        }}\n        labelWidth={98}\n      >\n        <BizFormItemUpload\n          name=\"images\"\n          label=\"图片\"\n          type=\"image\"\n          onUpload={uploadFile}\n          maxCount={9}\n          required\n          transform={uploadFileToFssid}\n        />\n      </BizForm>\n    </Spin>\n  );\n};\n\nexport default Demo;\n"},58948:function(n,e){e.Z="import { Cache } from 'cache2';\nimport type { UploadFile } from 'antd';\nimport { isArray, uniqueId } from 'ut2';\nimport { downloadFile } from '../services';\n\nexport function wrapperUploadFile<T = any>(opts: Partial<UploadFile>) {\n  return {\n    uid: uniqueId(),\n    status: 'done',\n    thumbUrl: opts.url,\n    url: opts.url,\n    name: '',\n    ...opts\n  } as UploadFile<T>;\n}\n\nconst asyncCache: Record<string, any> = {};\nconst fileCache = new Cache({ max: 20, maxStrategy: 'replaced', stdTTL: 5 * 60 * 1000 });\n\nfileCache.on('del', (key, value) => {\n  if (value && value?.fileUrl) {\n    URL.revokeObjectURL(value.fileUrl);\n  }\n});\n\nasync function getFileByFssid(fssid: string): Promise<UploadFile> {\n  let cache = fileCache.get(fssid);\n\n  if (!cache) {\n    if (!asyncCache[fssid]) {\n      asyncCache[fssid] = async () =>\n        downloadFile(fssid).finally(() => {\n          delete asyncCache[fssid];\n        });\n    }\n    try {\n      const res = await asyncCache[fssid]();\n      fileCache.set(fssid, res);\n      cache = res;\n    } catch (error) {\n      return wrapperUploadFile({\n        status: 'error',\n        error,\n        response: {\n          fssid\n        }\n      });\n    }\n  }\n\n  return wrapperUploadFile({\n    name: cache?.data,\n    response: {\n      fssid\n    },\n    url: cache?.data\n  });\n}\n\n// 通过 fssid 转为 UploadFile\n// 适用于详情页图片展示、表单回显\nexport function fssidToUploadFile<T = any>(fssid: string): Promise<UploadFile<T>>;\nexport function fssidToUploadFile<T = any>(fssid: string[]): Promise<UploadFile<T>[]>;\nexport function fssidToUploadFile(fssid: string | string[]) {\n  if (typeof fssid === 'string') {\n    return getFileByFssid(fssid);\n  }\n\n  if (isArray(fssid)) {\n    const tasks: Promise<any>[] = [];\n\n    fssid.forEach((item) => {\n      tasks.push(getFileByFssid(item));\n    });\n\n    return Promise.all(tasks);\n  }\n\n  return Promise.reject('fssidToUploadFile 参数必须为 string 或 string[]');\n}\n\n// 通过 UploadFile 转为 fssid\n// 表单提交时提取出上传文件的 fssid\nexport function uploadFileToFssid(fileList: UploadFile[], nil: false): (string | undefined)[];\nexport function uploadFileToFssid(fileList: UploadFile[], nil?: true): string[];\nexport function uploadFileToFssid(fileList: any, nil = true) {\n  const result: any[] = [];\n  if (isArray(fileList)) {\n    fileList.forEach((item) => {\n      if (item && typeof item === 'object' && typeof item.response === 'object') {\n        const fssid = item.response.fssid || item.response.fssId; // 部分项目中没有严格区分 fssId 和 fssid\n        if (!nil || fssid) {\n          result.push(fssid);\n        }\n      }\n    });\n  }\n  return result;\n}\n"}}]);