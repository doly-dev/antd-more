"use strict";(self.webpackChunkantd_more=self.webpackChunkantd_more||[]).push([[7857],{31273:function(e,t,r){r.r(t);var n=r(17925),i=r.n(n),o=r(978),s=r(6889),a=r(57425),c=r(50107);t.default=function(){var e=o.useState(!1),t=i()(e,2),r=t[0],n=t[1],u=o.useState(!1),l=i()(u,2),p=l[0],d=l[1];return(0,c.jsxs)("div",{children:[(0,c.jsx)(s.ZP,{onClick:function(){return n(!0)},children:"预览图片-UploadFile"}),(0,c.jsx)(s.ZP,{onClick:function(){return d(!0)},children:"预览图片-url"}),(0,c.jsx)(a.Z,{file:{uid:"-1",url:"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png",name:"图片文件名称111"},open:r,onCancel:function(){return n(!1)}}),(0,c.jsx)(a.Z,{file:"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png",open:p,onCancel:function(){return d(!1)}})]})}},51635:function(e,t,r){r.r(t);var n=r(17925),i=r.n(n),o=r(978),s=r(6889),a=r(57425),c=r(20598),u=r(4199),l=r(60249),p=r(88255),d=r(28774),f=r(63145),h=r(28538),m=r(50107),v={image:{uid:"-1",url:c,name:"test.jpg"},audio:{uid:"-2",url:u,name:"test.mp3"},video:{uid:"-3",url:l,name:"test.mp4"},pdf:{uid:"-4",url:p,name:"test.pdf"},word:{uid:"-5",url:d,name:"test.docx"},excel:{uid:"-6",url:f,name:"test.xlsx"},zip:{uid:"-7",url:h,name:"test.zip"}};t.default=function(){var e=o.useState(!1),t=i()(e,2),r=t[0],n=t[1],c=o.useState(),u=i()(c,2),l=u[0],p=u[1],d=function(e){p(v[e]),n(!0)};return(0,m.jsxs)("div",{children:[(0,m.jsx)(s.ZP,{onClick:function(){return d("image")},children:"预览图片"}),(0,m.jsx)(s.ZP,{onClick:function(){return d("audio")},children:"预览音频"}),(0,m.jsx)(s.ZP,{onClick:function(){return d("video")},children:"预览视频"}),(0,m.jsx)(s.ZP,{onClick:function(){return d("pdf")},children:"预览pdf"}),(0,m.jsx)(s.ZP,{onClick:function(){return d("word")},children:"预览word"}),(0,m.jsx)(s.ZP,{onClick:function(){return d("excel")},children:"预览excel"}),(0,m.jsx)(s.ZP,{onClick:function(){return d("zip")},children:"预览zip"}),(0,m.jsx)(a.Z,{file:l,open:r,onCancel:function(){return n(!1)}})]})}},61783:function(e,t,r){r.r(t);var n=r(35118),i=r.n(n),o=(r(978),r(57425)),s=r(20598),a=r(4199),c=r(60249),u=r(88255),l=r(28774),p=r(63145),d=r(28538),f=r(50107),h=[{uid:"-1",url:s,name:"test.jpg"},{uid:"-2",url:a,name:"test.mp3"},{uid:"-3",url:c,name:"test.mp4"},{uid:"-4",url:u,name:"test.pdf"},{uid:"-5",url:l,name:"test.docx"},{uid:"-6",url:p,name:"test.xlsx"},{uid:"-7",url:d,name:"test.zip"}].map((function(e){return i()(i()({},e),{},{thumbUrl:o.Z.getFileThumbUrl(e)})}));t.default=function(){return(0,f.jsx)(o.Z.PictureCard,{fileList:h})}},67437:function(e,t,r){r.d(t,{Z:function(){return ae}});var n=r(35118),i=r.n(n),o=r(14005),s=r.n(o),a=r(978),c=r(24174),u=r(34944),l=r.n(u),p=r(6889),d=r(38683),f=r(17662),h=r.n(f),m=r(31404),v=r.n(m),g=r(17925),x=r.n(g),y=r(89030),j=r(16359),b=r(43655),w=r.n(b),k=r(68857),U=r(46277),P=r(5242),Z=r(57612);function C(e){if("string"!=typeof e||!e)return"";var t="/";e.indexOf("\\")>-1&&(t="\\");var r=e.split(t);return r[r.length-1]||""}var L={},_=function(e,t,r){return L[e]||(L[e]={}),L[e][t]||(L[e][t]=URL.createObjectURL(r)),L[e][t]},T=r(28467),M=r(50107),S=["imgUrl","style"],I=function(e){var t=e.imgUrl,r=void 0===t?"":t,n=e.style,o=void 0===n?{}:n,a=s()(e,S);return(0,M.jsx)(T.Z,i()(i()({footer:null,width:"auto",centered:!0,style:i()({maxWidth:"80%"},o)},a),{},{children:(0,M.jsx)("img",{alt:"",style:{width:"100%"},src:r})}))},z=a.memo(I),O=["onUpload","fileTypeMessage","fileSizeMessage","maxSize","maxCount","onGetPreviewUrl","dragger","icon","title","previewModalProps","accept","className","disabled","action","beforeUpload"],V=function(e){var t=e.onUpload,r=e.fileTypeMessage,n=void 0===r?"只支持上传 %s 文件":r,o=e.fileSizeMessage,c=void 0===o?"必须小于 %s！":o,u=e.maxSize,p=void 0===u?2097152:u,d=e.maxCount,f=e.onGetPreviewUrl,m=e.dragger,g=void 0!==m&&m,b=(e.icon,e.title,e.previewModalProps),T=e.accept,S=e.className,I=e.disabled,V=e.action,R=e.beforeUpload,N=s()(e,O),E=a.useMemo((function(){return(0,Z.Z)("__am_itemUpload_")}),[]),A=a.useRef(!1),F=(0,U.Z)({open:!1,title:"",imgUrl:""}),G=x()(F,2),q=G[0],K=G[1],J=a.useCallback((function(e,r){var i=function(e,t){if(!t||!t.trim()||"*"===t)return!0;var r=t.toLowerCase().split(/,(?:\s+)?/),n=!1;return r.some((function(t){if(e.type===t||0===t.indexOf(".")&&e.name.toLowerCase().substring(e.name.length-t.length)===t)n=!0;else if(t.includes("/*")&&e.type.includes("/")){var r=t.match(/(.*)\/\*/),i=e.type.split("/")[0];r&&r[1]===i&&(n=!0)}return n})),n}(e,T);if(!i)return!1!==n&&y.ZP.error(n.replace(/%s/g,T)),j.Z.LIST_IGNORE;var o=function(e,t){return e.size<t}(e,p);if(!o){var s=(0,k.Z)(p);return!1!==c&&y.ZP.error(c.replace(/%s/g,s)),j.Z.LIST_IGNORE}return R?R(e,r):!!V||!!t||!(null==N||!N.customRequest)}),[T,p,R,V,t,null==N?void 0:N.customRequest,n,c]),D=a.useCallback((function(e){var r=null;!function n(){A.current?r=setTimeout(n,100):(A.current=!0,clearTimeout(r),setTimeout((function(){var r;null===(r=e.onProgress)||void 0===r||r.call(e,{percent:99}),null==t||t(e.file).then(e.onSuccess).catch(e.onError).finally((function(){A.current=!1}))})))}()}),[t]),W=a.useMemo((function(){return null==N||!N.showUploadList||"object"!==l()(N.showUploadList)||!1!==N.showUploadList.showPreviewIcon}),[null==N?void 0:N.showUploadList]),H=a.useCallback(function(){var e=v()(h()().mark((function e(t){return h()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(W){e.next=2;break}return e.abrupt("return");case 2:if(!f||t.preview){e.next=8;break}return e.next=5,f((null==t?void 0:t.originFileObj)||t);case 5:t.preview=e.sent,e.next=9;break;case 8:t.url||(t.url=_(E,t.uid,(null==t?void 0:t.originFileObj)||t));case 9:if(t.preview||t.url||t.thumbUrl){e.next=12;break}return y.ZP.error("当前文件不支持预览！"),e.abrupt("return");case 12:K({open:!0,imgUrl:t.preview||t.url||t.thumbUrl,title:t.name||C(t.url)});case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[W,f,K,E]),B=a.useCallback((function(){K({open:!1})}),[K]),Q=a.useMemo((function(){return g?j.Z.Dragger:j.Z}),[g]);return(0,P.Z)((function(){var e,t;L[e=E]&&(t?(L[e][t]&&URL.revokeObjectURL(L[e][t]),delete L[e][t]):(Object.keys(L[e]).forEach((function(t){URL.revokeObjectURL(L[e][t])})),delete L[e]))})),(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(Q,i()({accept:T,beforeUpload:J,customRequest:V?void 0:D,onPreview:H,disabled:I,className:w()("antd-more-form-upload",S),action:V,maxCount:d},N)),W&&!N.onPreview&&(0,M.jsx)(z,i()(i()(i()({},q),b),{},{onCancel:B}))]})},R=["showUploadList","icon","title"],N={showPreviewIcon:!1},E=function(e){var t=e.showUploadList,r=e.icon,n=void 0===r?(0,M.jsx)(d.Z,{}):r,o=e.title,c=void 0===o?"点击上传":o,u=s()(e,R),f=a.useMemo((function(){return("boolean"!=typeof t||!1!==t)&&("object"===l()(t)?i()(i()({},N),t):N)}),[t]);return(0,M.jsx)(V,i()(i()({},u),{},{showUploadList:f,children:(0,M.jsx)(p.ZP,{icon:n,children:c})}))},A=r(3220),F=r(11288),G=function(e){var t=e.loading,r=void 0!==t&&t,n=e.uploading,i=void 0!==n&&n,o=e.icon,s=void 0===o?(0,M.jsx)(A.Z,{}):o,c=e.title,u=void 0===c?"点击上传":c,l=a.useMemo((function(){return r?"加载中":i?"上传中":u}),[r,u,i]);return(0,M.jsxs)("div",{children:[r||i?(0,M.jsx)(F.Z,{}):s,(0,M.jsx)("div",{style:{marginTop:8,lineHeight:1.5},children:l})]})},q=["fileList","maxCount","icon","title"],K=function(e){var t=e.fileList,r=e.maxCount,n=e.icon,o=e.title,a=s()(e,q);return(0,M.jsx)(V,i()(i()({fileList:t,maxCount:r,listType:"picture-card"},a),{},{accept:(null==a?void 0:a.accept)||".jpg, .jpeg, .png",children:r&&t&&t.length>=r?null:(0,M.jsx)(G,{icon:n,title:o})}))},J=r(4143),D=r.n(J),W=r(22050),H=r(50238),B=["fileList","className","icon","title"],Q="antd-more-form-upload-avatar",X=function(e){var t=e.fileList,r=e.icon,n=e.title,i=a.useState(""),o=x()(i,2),s=o[0],c=o[1],u=a.useMemo((function(){return Array.isArray(t)&&t.length>0?t[0]:null}),[t]),l="uploading"===(null==u?void 0:u.status);a.useEffect((function(){u&&(u.thumbUrl||u.url||u.preview||(u.preview=URL.createObjectURL((null==u?void 0:u.originFileObj)||u)),c(u.thumbUrl||u.url||u.preview))}),[u]);var p=null;p=u&&"error"===u.status?(0,M.jsxs)("div",{style:{width:"100%"},children:[(0,M.jsx)(H.Z,{}),(0,M.jsx)("div",{style:{marginTop:8,padding:"0 8px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},title:u.name||"",children:u.name||""})]}):l||!s?(0,M.jsx)(G,{uploading:l,icon:r,title:n}):(0,M.jsx)("img",{src:s,alt:u&&u.name||""});var d=(0,M.jsx)("div",{className:w()("".concat(Q,"-box"),D()({},"".concat(Q,"-box-error"),u&&"error"===u.status)),children:p});return u&&"error"===u.status&&u.response?(0,M.jsx)(W.Z,{title:u.response,children:d}):d},Y=function(e){var t=e.fileList,r=e.className,n=e.icon,o=e.title,a=s()(e,B);return(0,M.jsx)(V,i()(i()({},a),{},{listType:"picture-card",accept:(null==a?void 0:a.accept)||".jpg, .jpeg, .png",fileList:t,showUploadList:!1,multiple:!1,maxCount:1,className:w()(Q,r),children:(0,M.jsx)(X,{fileList:t,icon:n,title:o})}))},$=r(69538),ee=["showUploadList","icon","title"],te={showPreviewIcon:!1},re=function(e){var t=e.showUploadList,r=e.icon,n=void 0===r?(0,M.jsx)($.Z,{}):r,o=e.title,c=void 0===o?"单击或拖动文件到此区域进行上传":o,u=s()(e,ee),p=a.useMemo((function(){return("boolean"!=typeof t||!1!==t)&&("object"===l()(t)?i()(i()({},te),t):te)}),[t]);return(0,M.jsxs)(V,i()(i()({},u),{},{dragger:!0,showUploadList:p,children:[(0,M.jsx)("p",{className:"ant-upload-drag-icon",children:n}),(0,M.jsx)("p",{className:"ant-upload-text",children:c})]}))},ne=r(79969),ie=["name","uploadProps","accept","onUpload","onGetPreviewUrl","fileTypeMessage","fileSizeMessage","maxSize","maxCount","type","disabled","multiple","icon","title","previewModalProps","required","transform"],oe=function(e){return Array.isArray(e)?e:e&&e.fileList},se=function(e){var t=e.name,r=e.uploadProps,n=e.accept,o=e.onUpload,u=e.onGetPreviewUrl,l=e.fileTypeMessage,p=e.fileSizeMessage,d=e.maxSize,f=e.maxCount,h=e.type,m=void 0===h?"default":h,v=e.disabled,g=void 0!==v&&v,x=e.multiple,y=void 0!==x&&x,j=e.icon,b=e.title,w=e.previewModalProps,k=e.required,U=e.transform,P=s()(e,ie),Z=a.useMemo((function(){return"image"===m?K:"avatar"===m?Y:"dragger"===m?re:E}),[m]);return(0,M.jsx)(c.Z,i()(i()({required:k,valuePropName:"fileList",getValueFromEvent:oe,transform:U,name:t,rules:[{validator:function(e,t){var r="",n=t&&"function"==typeof U?U(t):t;return(!n||Array.isArray(n)&&n.length<=0)&&(r=k?"请上传".concat((0,ne.Z)(P)):""),r?Promise.reject(r):Promise.resolve()}}]},P),{},{children:(0,M.jsx)(Z,i()({accept:n,onUpload:o,onGetPreviewUrl:u,fileTypeMessage:l,fileSizeMessage:p,maxSize:d,maxCount:f,disabled:g,multiple:y,icon:j,title:b,previewModalProps:w},r))}))};se.Preview=z;var ae=se},41683:function(e,t,r){r.d(t,{Z:function(){return p}});var n=r(34944),i=r.n(n),o=r(42210),s=r(97248),a={},c={getItem:function(e){return a[e]||null},setItem:function(e,t){a[e]=t},removeItem:function(e){delete a[e]}};var u=1;function l(e,t){void 0===e&&(e=""),void 0===t&&(t="cache2");var r="string"==typeof e&&e?e:"".concat(Math.random().toString(16).substring(2,8),"_").concat(u++);return"".concat(t,"_").concat(r)}var p=function(e){function t(t,r){var n,s,a=e.call(this)||this;return"string"==typeof t?n=t:"object"===i()(t)&&(s=t),s||"object"!==i()(r)||(s=r),a.options=(0,o.pi)({max:-1,stdTTL:0,storage:c,maxStrategy:"limited",checkperiod:0,needParsed:"boolean"==typeof(null==s?void 0:s.needParsed)?s.needParsed:!!(null==s?void 0:s.storage)},s),a.options.storage===c||function(e){try{var t="object"===i()(e)&&null!==e&&!!e.setItem&&!!e.getItem&&!!e.removeItem;if(t){var r=l();e.setItem(r,"1"),e.removeItem(r)}return t}catch(e){return console.error("[cache2] The current custom storage is not supported. The default memory cache will be used."),!1}}(a.options.storage)||(a.options.storage=c,a.options.needParsed=!1),a.cacheKey=l(n),a.startCheckperiod(),a}return(0,o.ZT)(t,e),t.prototype._check=function(e,t){var r=!0;return 0!==t.t&&t.t<Date.now()&&(r=!1,this.del(e),this.emit("expired",e,t.v)),r},t.prototype._wrap=function(e,t){var r=Date.now(),n="number"==typeof t?t:this.options.stdTTL;return{v:e,t:n>0?r+n:0,n:r}},t.prototype._isLimited=function(e){return this.options.max>-1&&e>=this.options.max},t.prototype._getReplaceKey=function(e,t){var r=e[0];return e.forEach((function(e){(t[e].t<t[r].t||t[e].t===t[r].t&&t[e].n<t[r].n)&&(r=e)})),r},t.prototype._parse=function(e){if(!this.options.needParsed)return e;try{return JSON.parse(e,this.options.reviver)}catch(t){return e}},t.prototype._stringify=function(e){return this.options.needParsed?JSON.stringify(e,this.options.replacer):e},Object.defineProperty(t.prototype,"cacheValues",{get:function(){return this._parse(this.options.storage.getItem(this.cacheKey))||{}},enumerable:!1,configurable:!0}),t.prototype.setCacheValues=function(e){this.options.storage.setItem(this.cacheKey,this._stringify(e))},t.prototype.get=function(e){var t=this.cacheValues[e];if(t&&this._check(e,t))return t.v},t.prototype.mget=function(e){var t=this,r={};if(!Array.isArray(e))return r;var n=this.cacheValues;return e.forEach((function(e){var i=n[e];i&&t._check(e,i)&&(r[e]=i.v)})),r},t.prototype.getAll=function(){var e=Object.keys(this.cacheValues);return this.mget(e)},t.prototype.set=function(e,t,r){if(0===this.options.max)return!1;var n=this.cacheValues,i=Object.keys(n);if(!n[e]&&this._isLimited(i.length)){var o=this.keys();if(this._isLimited(o.length)){if("replaced"!==this.options.maxStrategy)return!1;var s=this._getReplaceKey(o,n);this.del(s)}}return n[e]=this._wrap(t,r),this.setCacheValues(n),this.emit("set",e,n[e].v),!0},t.prototype.mset=function(e){var t=this,r=!0;return e.forEach((function(e){var n=t.set(e.key,e.value,e.ttl);r&&!n&&(r=!1)})),r},t.prototype.del=function(e){var t=this,r=this.cacheValues,n=0;return(Array.isArray(e)?e:[e]).forEach((function(e){if(r[e]){n++;var i=r[e];delete r[e],t.emit("del",e,i.v)}})),n>0&&this.setCacheValues(r),n},t.prototype.clear=function(){this.options.storage.removeItem(this.cacheKey)},t.prototype.keys=function(){var e=this,t=this.cacheValues;return Object.keys(t).filter((function(r){return e._check(r,t[r])}))},t.prototype.has=function(e){var t=this.cacheValues[e];return!(!t||!this._check(e,t))},t.prototype.take=function(e){var t,r=this.cacheValues[e];return r&&this._check(e,r)&&(t=r.v,this.del(e)),t},t.prototype.ttl=function(e,t){var r=this.cacheValues,n=r[e];return!(!n||!this._check(e,n))&&(r[e]=this._wrap(n.v,t),!0)},t.prototype.getTtl=function(e){var t=this.cacheValues,r=t[e];if(r&&this._check(e,r))return t[e].t},t.prototype.startCheckperiod=function(){var e=this;this.keys(),this.options.checkperiod>0&&(clearTimeout(this._checkTimeout),this._checkTimeout=setTimeout((function(){e.startCheckperiod()}),this.options.checkperiod))},t.prototype.stopCheckperiod=function(){clearTimeout(this._checkTimeout)},t}(s.Z)},28774:function(e,t,r){e.exports=r.p+"static/test.c3b39340.docx"},4199:function(e,t,r){e.exports=r.p+"static/test.13a07866.mp3"},60249:function(e,t,r){e.exports=r.p+"static/test.9977b04e.mp4"},88255:function(e,t,r){e.exports=r.p+"static/test.fb9403e0.pdf"},63145:function(e,t,r){e.exports=r.p+"static/test.5baa83a1.xlsx"},28538:function(e,t,r){e.exports=r.p+"static/test.feaade1b.zip"},20598:function(e,t,r){e.exports=r.p+"static/test.7e18ecd8.jpg"}}]);