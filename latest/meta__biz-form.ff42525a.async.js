"use strict";(self.webpackChunkantd_more=self.webpackChunkantd_more||[]).push([[9761],{67323:function(e,n,t){t.r(n),t.d(n,{demos:function(){return C}});var r,a,o,i,l,s,u,d,p,m,c,f,v,I,y,b=t(84571),x=t.n(b),h=t(60771),F=t.n(h),g=t(44513),C={"biz-form-demo-base-register":{component:g.memo(g.lazy((function(){return t.e(1799).then(t.bind(t,75681))}))),asset:{type:"BLOCK",id:"biz-form-demo-base-register",refAtomIds:["biz-form"],dependencies:{"index.tsx":{type:"FILE",value:t(54717).Z},react:{type:"NPM",value:"18.3.1"},"antd-more":{type:"NPM",value:"4.2.29"},lcn:{type:"NPM",value:"5.0.6"},ut2:{type:"NPM",value:"1.9.1"}},entry:"index.tsx"},context:{react:t(44513),"antd-more":t(3865),lcn:t(96693),ut2:t(16669)},renderOpts:{compile:(y=F()(x()().mark((function e(){var n,r=arguments;return x()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.e(7848).then(t.bind(t,77848));case 2:return e.abrupt("return",(n=e.sent).default.apply(n,r));case 3:case"end":return e.stop()}}),e)}))),function(){return y.apply(this,arguments)})}},"biz-form-demo-base-login":{component:g.memo(g.lazy((function(){return t.e(1799).then(t.bind(t,42867))}))),asset:{type:"BLOCK",id:"biz-form-demo-base-login",refAtomIds:["biz-form"],dependencies:{"index.tsx":{type:"FILE",value:t(80941).Z},react:{type:"NPM",value:"18.3.1"},antd:{type:"NPM",value:"5.17.4"},"antd-more":{type:"NPM",value:"4.2.29"},"rc-hooks":{type:"NPM",value:"3.0.9"},"@ant-design/icons":{type:"NPM",value:"5.3.7"},ut2:{type:"NPM",value:"1.9.1"},"./components/IdentifyCode.tsx":{type:"FILE",value:t(78365).Z}},entry:"index.tsx"},context:{react:t(44513),antd:t(10311),"antd-more":t(3865),"rc-hooks":t(7465),"@ant-design/icons":t(5085),ut2:t(16669),"./components/IdentifyCode.tsx":t(65941)},renderOpts:{compile:(I=F()(x()().mark((function e(){var n,r=arguments;return x()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.e(7848).then(t.bind(t,77848));case 2:return e.abrupt("return",(n=e.sent).default.apply(n,r));case 3:case"end":return e.stop()}}),e)}))),function(){return I.apply(this,arguments)})}},"biz-form-demo-forget-password":{component:g.memo(g.lazy((function(){return t.e(1799).then(t.bind(t,88526))}))),asset:{type:"BLOCK",id:"biz-form-demo-forget-password",refAtomIds:["biz-form"],dependencies:{"index.tsx":{type:"FILE",value:t(30649).Z},react:{type:"NPM",value:"18.3.1"},antd:{type:"NPM",value:"5.17.4"},"antd-more":{type:"NPM",value:"4.2.29"},ut2:{type:"NPM",value:"1.9.1"}},entry:"index.tsx"},context:{react:t(44513),antd:t(10311),"antd-more":t(3865),ut2:t(16669)},renderOpts:{compile:(v=F()(x()().mark((function e(){var n,r=arguments;return x()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.e(7848).then(t.bind(t,77848));case 2:return e.abrupt("return",(n=e.sent).default.apply(n,r));case 3:case"end":return e.stop()}}),e)}))),function(){return v.apply(this,arguments)})}},"biz-form-demo-change-password":{component:g.memo(g.lazy((function(){return t.e(1799).then(t.bind(t,10914))}))),asset:{type:"BLOCK",id:"biz-form-demo-change-password",refAtomIds:["biz-form"],dependencies:{"index.tsx":{type:"FILE",value:t(32217).Z},react:{type:"NPM",value:"18.3.1"},"antd-more":{type:"NPM",value:"4.2.29"},ut2:{type:"NPM",value:"1.9.1"}},entry:"index.tsx"},context:{react:t(44513),"antd-more":t(3865),ut2:t(16669)},renderOpts:{compile:(f=F()(x()().mark((function e(){var n,r=arguments;return x()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.e(7848).then(t.bind(t,77848));case 2:return e.abrupt("return",(n=e.sent).default.apply(n,r));case 3:case"end":return e.stop()}}),e)}))),function(){return f.apply(this,arguments)})}},"biz-form-demo-upload-real-time":{component:g.memo(g.lazy((function(){return t.e(1799).then(t.bind(t,73466))}))),asset:{type:"BLOCK",id:"biz-form-demo-upload-real-time",refAtomIds:["biz-form"],dependencies:{"index.tsx":{type:"FILE",value:t(40049).Z},react:{type:"NPM",value:"18.3.1"},"antd-more":{type:"NPM",value:"4.2.29"},ut2:{type:"NPM",value:"1.9.1"},"./utils/fileUtils.ts":{type:"FILE",value:t(84265).Z},"./services.ts":{type:"FILE",value:t(84325).Z},"util-helpers":{type:"NPM",value:"4.23.0"}},entry:"index.tsx"},context:{react:t(44513),"antd-more":t(3865),ut2:t(16669),"./utils/fileUtils.ts":t(73756),"./services.ts":t(90361),"util-helpers":t(5882)},renderOpts:{compile:(c=F()(x()().mark((function e(){var n,r=arguments;return x()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.e(7848).then(t.bind(t,77848));case 2:return e.abrupt("return",(n=e.sent).default.apply(n,r));case 3:case"end":return e.stop()}}),e)}))),function(){return c.apply(this,arguments)})}},"biz-form-demo-upload-with-default":{component:g.memo(g.lazy((function(){return t.e(1799).then(t.bind(t,90579))}))),asset:{type:"BLOCK",id:"biz-form-demo-upload-with-default",refAtomIds:["biz-form"],dependencies:{"index.tsx":{type:"FILE",value:t(22196).Z},react:{type:"NPM",value:"18.3.1"},"antd-more":{type:"NPM",value:"4.2.29"},ut2:{type:"NPM",value:"1.9.1"},antd:{type:"NPM",value:"5.17.4"},"./utils/fileUtils.ts":{type:"FILE",value:t(84265).Z},"./services.ts":{type:"FILE",value:t(84325).Z},"util-helpers":{type:"NPM",value:"4.23.0"}},entry:"index.tsx"},context:{react:t(44513),"antd-more":t(3865),ut2:t(16669),antd:t(10311),"./utils/fileUtils.ts":t(73756),"./services.ts":t(90361),"util-helpers":t(5882)},renderOpts:{compile:(m=F()(x()().mark((function e(){var n,r=arguments;return x()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.e(7848).then(t.bind(t,77848));case 2:return e.abrupt("return",(n=e.sent).default.apply(n,r));case 3:case"end":return e.stop()}}),e)}))),function(){return m.apply(this,arguments)})}},"biz-form-demo-upload-no-upload":{component:g.memo(g.lazy((function(){return t.e(1799).then(t.bind(t,10024))}))),asset:{type:"BLOCK",id:"biz-form-demo-upload-no-upload",refAtomIds:["biz-form"],dependencies:{"index.tsx":{type:"FILE",value:t(16462).Z},react:{type:"NPM",value:"18.3.1"},"antd-more":{type:"NPM",value:"4.2.29"},ut2:{type:"NPM",value:"1.9.1"}},entry:"index.tsx"},context:{react:t(44513),"antd-more":t(3865),ut2:t(16669)},renderOpts:{compile:(p=F()(x()().mark((function e(){var n,r=arguments;return x()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.e(7848).then(t.bind(t,77848));case 2:return e.abrupt("return",(n=e.sent).default.apply(n,r));case 3:case"end":return e.stop()}}),e)}))),function(){return p.apply(this,arguments)})}},"biz-form-demo-upload-file-viewer":{component:g.memo(g.lazy((function(){return t.e(1799).then(t.bind(t,25977))}))),asset:{type:"BLOCK",id:"biz-form-demo-upload-file-viewer",refAtomIds:["biz-form"],dependencies:{"index.tsx":{type:"FILE",value:t(18475).Z},react:{type:"NPM",value:"18.3.1"},"antd-more":{type:"NPM",value:"4.2.29"},ut2:{type:"NPM",value:"1.9.1"},"./utils/fileUtils.ts":{type:"FILE",value:t(84265).Z},"./services.ts":{type:"FILE",value:t(84325).Z},"util-helpers":{type:"NPM",value:"4.23.0"}},entry:"index.tsx"},context:{react:t(44513),"antd-more":t(3865),ut2:t(16669),"./utils/fileUtils.ts":t(73756),"./services.ts":t(90361),"util-helpers":t(5882)},renderOpts:{compile:(d=F()(x()().mark((function e(){var n,r=arguments;return x()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.e(7848).then(t.bind(t,77848));case 2:return e.abrupt("return",(n=e.sent).default.apply(n,r));case 3:case"end":return e.stop()}}),e)}))),function(){return d.apply(this,arguments)})}},"biz-form-demo-form-linkage-1":{component:g.memo(g.lazy((function(){return t.e(1799).then(t.bind(t,74326))}))),asset:{type:"BLOCK",id:"biz-form-demo-form-linkage-1",refAtomIds:["biz-form"],dependencies:{"index.tsx":{type:"FILE",value:t(14472).Z},react:{type:"NPM",value:"18.3.1"},"antd-more":{type:"NPM",value:"4.2.29"},ut2:{type:"NPM",value:"1.9.1"},antd:{type:"NPM",value:"5.17.4"}},entry:"index.tsx"},context:{react:t(44513),"antd-more":t(3865),ut2:t(16669),antd:t(10311)},renderOpts:{compile:(u=F()(x()().mark((function e(){var n,r=arguments;return x()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.e(7848).then(t.bind(t,77848));case 2:return e.abrupt("return",(n=e.sent).default.apply(n,r));case 3:case"end":return e.stop()}}),e)}))),function(){return u.apply(this,arguments)})}},"biz-form-demo-form-linkage-2":{component:g.memo(g.lazy((function(){return t.e(1799).then(t.bind(t,3567))}))),asset:{type:"BLOCK",id:"biz-form-demo-form-linkage-2",refAtomIds:["biz-form"],dependencies:{"index.tsx":{type:"FILE",value:t(49981).Z},react:{type:"NPM",value:"18.3.1"},antd:{type:"NPM",value:"5.17.4"},"util-helpers":{type:"NPM",value:"4.23.0"},"antd-more":{type:"NPM",value:"4.2.29"},lcn:{type:"NPM",value:"5.0.6"}},entry:"index.tsx"},context:{react:t(44513),antd:t(10311),"util-helpers":t(5882),"antd-more":t(3865),lcn:t(96693)},renderOpts:{compile:(s=F()(x()().mark((function e(){var n,r=arguments;return x()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.e(7848).then(t.bind(t,77848));case 2:return e.abrupt("return",(n=e.sent).default.apply(n,r));case 3:case"end":return e.stop()}}),e)}))),function(){return s.apply(this,arguments)})}},"biz-form-demo-company-info":{component:g.memo(g.lazy((function(){return t.e(1799).then(t.bind(t,38736))}))),asset:{type:"BLOCK",id:"biz-form-demo-company-info",refAtomIds:["biz-form"],dependencies:{"index.tsx":{type:"FILE",value:t(55237).Z},react:{type:"NPM",value:"18.3.1"},antd:{type:"NPM",value:"5.17.4"},"antd-more":{type:"NPM",value:"4.2.29"},"util-helpers":{type:"NPM",value:"4.23.0"},lcn:{type:"NPM",value:"5.0.6"},ut2:{type:"NPM",value:"1.9.1"}},entry:"index.tsx"},context:{react:t(44513),antd:t(10311),"antd-more":t(3865),"util-helpers":t(5882),lcn:t(96693),ut2:t(16669)},renderOpts:{compile:(l=F()(x()().mark((function e(){var n,r=arguments;return x()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.e(7848).then(t.bind(t,77848));case 2:return e.abrupt("return",(n=e.sent).default.apply(n,r));case 3:case"end":return e.stop()}}),e)}))),function(){return l.apply(this,arguments)})}},"biz-form-demo-settlement-info":{component:g.memo(g.lazy((function(){return t.e(1799).then(t.bind(t,65477))}))),asset:{type:"BLOCK",id:"biz-form-demo-settlement-info",refAtomIds:["biz-form"],dependencies:{"index.tsx":{type:"FILE",value:t(21269).Z},react:{type:"NPM",value:"18.3.1"},antd:{type:"NPM",value:"5.17.4"},"antd-more":{type:"NPM",value:"4.2.29"},lcn:{type:"NPM",value:"5.0.6"},ut2:{type:"NPM",value:"1.9.1"}},entry:"index.tsx"},context:{react:t(44513),antd:t(10311),"antd-more":t(3865),lcn:t(96693),ut2:t(16669)},renderOpts:{compile:(i=F()(x()().mark((function e(){var n,r=arguments;return x()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.e(7848).then(t.bind(t,77848));case 2:return e.abrupt("return",(n=e.sent).default.apply(n,r));case 3:case"end":return e.stop()}}),e)}))),function(){return i.apply(this,arguments)})}},"biz-form-demo-rakebacke-info":{component:g.memo(g.lazy((function(){return t.e(1799).then(t.bind(t,78305))}))),asset:{type:"BLOCK",id:"biz-form-demo-rakebacke-info",refAtomIds:["biz-form"],dependencies:{"index.tsx":{type:"FILE",value:t(46914).Z},react:{type:"NPM",value:"18.3.1"},antd:{type:"NPM",value:"5.17.4"},"antd-more":{type:"NPM",value:"4.2.29"},ut2:{type:"NPM",value:"1.9.1"},"./constants.ts":{type:"FILE",value:t(4166).Z}},entry:"index.tsx"},context:{react:t(44513),antd:t(10311),"antd-more":t(3865),ut2:t(16669),"./constants.ts":t(69554)},renderOpts:{compile:(o=F()(x()().mark((function e(){var n,r=arguments;return x()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.e(7848).then(t.bind(t,77848));case 2:return e.abrupt("return",(n=e.sent).default.apply(n,r));case 3:case"end":return e.stop()}}),e)}))),function(){return o.apply(this,arguments)})}},"biz-form-demo-business-info":{component:g.memo(g.lazy((function(){return t.e(1799).then(t.bind(t,18738))}))),asset:{type:"BLOCK",id:"biz-form-demo-business-info",refAtomIds:["biz-form"],dependencies:{"index.tsx":{type:"FILE",value:t(19284).Z},react:{type:"NPM",value:"18.3.1"},antd:{type:"NPM",value:"5.17.4"},"antd-more":{type:"NPM",value:"4.2.29"},"util-helpers":{type:"NPM",value:"4.23.0"},"./utils/fileUtils.ts":{type:"FILE",value:t(84265).Z},"./services.ts":{type:"FILE",value:t(84325).Z},ut2:{type:"NPM",value:"1.9.1"}},entry:"index.tsx"},context:{react:t(44513),antd:t(10311),"antd-more":t(3865),"util-helpers":t(5882),"./utils/fileUtils.ts":t(73756),"./services.ts":t(90361),ut2:t(16669)},renderOpts:{compile:(a=F()(x()().mark((function e(){var n,r=arguments;return x()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.e(7848).then(t.bind(t,77848));case 2:return e.abrupt("return",(n=e.sent).default.apply(n,r));case 3:case"end":return e.stop()}}),e)}))),function(){return a.apply(this,arguments)})}},"biz-form-demo-async-initial-values":{component:g.memo(g.lazy((function(){return t.e(1799).then(t.bind(t,45205))}))),asset:{type:"BLOCK",id:"biz-form-demo-async-initial-values",refAtomIds:["biz-form"],dependencies:{"index.tsx":{type:"FILE",value:t(42888).Z},react:{type:"NPM",value:"18.3.1"},"antd-more":{type:"NPM",value:"4.2.29"},ut2:{type:"NPM",value:"1.9.1"}},entry:"index.tsx"},context:{react:t(44513),"antd-more":t(3865),ut2:t(16669)},renderOpts:{compile:(r=F()(x()().mark((function e(){var n,r=arguments;return x()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.e(7848).then(t.bind(t,77848));case 2:return e.abrupt("return",(n=e.sent).default.apply(n,r));case 3:case"end":return e.stop()}}),e)}))),function(){return r.apply(this,arguments)})}}}},65941:function(e,n,t){t.r(n);var r=t(23915),a=t.n(r),o=(t(44513),t(6077)),i=t(47640),l=t(7352);n.default=function(e){var n=e.loading,t=void 0===n||n,r=e.src,s=e.width,u=void 0===s?108:s,d=e.height,p=void 0===d?40:d,m=e.onClick,c=e.style,f=e.className,v=(0,l.jsx)("img",{src:r,style:{display:"block",width:"100%",height:"100%",cursor:"pointer"},alt:"验证码",onClick:m});return(0,l.jsx)(o.Z,{size:"small",spinning:t,children:(0,l.jsx)("div",{className:f,style:a()({width:u,height:p},c),children:r&&(0,l.jsx)(i.Z,{title:"点击刷新验证码",children:v})})})}},69554:function(e,n,t){t.r(n),t.d(n,{BillAccountOptions:function(){return l},Cycle:function(){return r},CycleOptions:function(){return a},RakebackeCycle:function(){return o},RakebackeCycleOptions:function(){return i}});var r=function(e){return e.Day="1",e.Month="2",e.Quarter="3",e}({}),a=[{label:"按日",value:r.Day},{label:"按月",value:r.Month},{label:"按季度",value:r.Quarter}],o=function(e){return e.Day="1",e.Month="2",e}({}),i=[{label:"日返",value:o.Day},{label:"月返",value:o.Month}],l=[{label:"张三",value:"a"},{label:"李四",value:"b"}]},90361:function(e,n,t){t.r(n),t.d(n,{downloadFile:function(){return d},uploadFile:function(){return s}});var r=t(84571),a=t.n(r),o=t(60771),i=t.n(o),l=t(67149);function s(e){return u.apply(this,arguments)}function u(){return(u=i()(a()().mark((function e(n){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("uploadFile: ",n),e.next=3,(0,l.Z)(2e3);case 3:if(!(Math.random()>.2)){e.next=5;break}return e.abrupt("return",{fssid:"".concat(Math.random().toString(16).substring(2))});case 5:throw new Error("error");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return p.apply(this,arguments)}function p(){return(p=i()(a()().mark((function e(n){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("downloadFile: ",n),e.next=3,(0,l.Z)(2e3);case 3:if(!(Math.random()>.2)){e.next=5;break}return e.abrupt("return",{data:"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png"});case 5:throw new Error("error");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},73756:function(e,n,t){t.r(n),t.d(n,{fssidToUploadFile:function(){return f},uploadFileToFssid:function(){return v},wrapperUploadFile:function(){return m}});var r=t(87298),a=t.n(r),o=t(23915),i=t.n(o),l=t(45148),s=t(70670),u=t(85474),d=t(32798),p=t(90361);function m(e){return i()({uid:(0,l.Z)(),status:"done",thumbUrl:e.url,url:e.url,name:""},e)}var c=new(t(39346).Z)({max:20,maxStrategy:"replaced",stdTTL:6e5,prefix:"fileUtils"});function f(e){if(!e)return Promise.resolve([]);var n=(0,u.Z)(e),t=[];return n.forEach((function(e){t.push(c.run((function(){return(0,p.downloadFile)(e).then((function(n){return{url:n.data,fssid:e}})).catch((function(n){return Promise.reject({error:n,message:"文件加载失败",fssid:e})}))}),e))})),Promise.allSettled(t).then((function(e){return e.map((function(e){return"fulfilled"===e.status?m({name:e.value.url,response:{fssid:e.value.fssid},url:e.value.url}):m({status:"error",error:e.reason.message,response:{fssid:e.reason.fssid}})}))}))}function v(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=[];return(0,d.Z)(e)&&e.forEach((function(e){if(e&&"object"===a()(e)&&"object"===a()(e.response)){var r=e.response.fssid||e.response.fssId;n&&!r||t.push(r)}})),t}c.cache.on("del",(function(e,n){(0,s.Z)(n)&&n.fileUrl&&URL.revokeObjectURL(n.fileUrl)}))},7465:function(e,n,t){t.r(n),t.d(n,{clearCache:function(){return r.L},useAsync:function(){return r.Z},useClickAway:function(){return k},useControllableValue:function(){return L.Z},useDebounce:function(){return y},useDebounceFn:function(){return I},useLatest:function(){return v.Z},useLimitList:function(){return h},useLoadMore:function(){return p},useMount:function(){return B.Z},useMountedRef:function(){return g.Z},usePagination:function(){return m.Z},usePersistFn:function(){return i.Z},usePrevious:function(){return C},useSafeState:function(){return z.Z},useSetState:function(){return F.Z},useSize:function(){return q},useThrottle:function(){return x.Z},useThrottleFn:function(){return b.Z},useUnmount:function(){return f.Z},useUnmountedRef:function(){return w.Z},useUpdate:function(){return A.Z},useUpdateEffect:function(){return d.Z},useUpdateLayoutEffect:function(){return P}});var r=t(16401),a=t(83213),o=t(44513),i=t(49827),l=function(e){return null!=e&&e===(null==e?void 0:e.window)};function s(e){return"function"==typeof e?e():e}var u=function(e){var n=void 0===e?{}:e,t=n.target,r=n.threshold,a=void 0===r?100:r,u=n.onScrollLower,d=void 0===u?function(){}:u,p=(0,i.Z)(d),m=(0,o.useCallback)((function(){if(t){var e,n=s(t);if(n)void 0===(e=n)&&(e=window),("undefined"==typeof window?0:l(e)?document.documentElement.scrollHeight:e.scrollHeight)-function(e){return void 0===e&&(e=window),"undefined"==typeof window?0:l(e)?window.scrollY:(null==e?void 0:e.scrollTop)||0}(n)<=function(e){return void 0===e&&(e=window),"undefined"==typeof window?0:l(e)?document.documentElement.clientHeight:e.clientHeight}(n)+a&&p()}}),[p,t,a]);(0,o.useEffect)((function(){if(t){var e=s(t);if(e)return e.addEventListener("scroll",m),function(){e.removeEventListener("scroll",m)}}}),[t,m])},d=t(64141);var p=function(e,n){var t=n||{},i=t.threshold,l=void 0===i?100:i,s=t.target,p=t.isNoMore,m=void 0===p?function(){return!1}:p,c=t.refreshDeps,f=void 0===c?[]:c,v=t.autoRun,I=void 0===v||v,y=(0,a._T)(t,["threshold","target","isNoMore","refreshDeps","autoRun"]),b=(0,o.useRef)([]),x=(0,o.useRef)(1),h=(0,r.Z)(e,(0,a.pi)((0,a.pi)({defaultParams:[{current:x.current}],autoRun:I},y),{onError:function(e,n){var t;x.current>1&&(x.current-=1),null===(t=null==y?void 0:y.onError)||void 0===t||t.call(y,e,n)},__INTERNAL_FORMAT__:function(e){return b.current=1===x.current?e.list:b.current.concat(e.list),(0,a.pi)((0,a.pi)({},e),{list:b.current})}})),F=h.run,g=h.data,C=h.loading,z=h.cancel,B=h.params,w=h.mutate,A=(0,a._T)(h,["run","data","loading","cancel","params","mutate"]),P=!!m&&(!C&&m(g)),M=(0,a.CR)(B||[]),R=M[0],T=M.slice(1),N=(0,o.useCallback)((function(){return F.apply(void 0,[{current:x.current}].concat(T))}),[T,F]),k=(0,o.useCallback)((function(){C&&x.current>1&&(x.current-=1),z()}),[z,C]),L=(0,o.useCallback)((function(){C||P||(x.current+=1,N())}),[C,P,N]),S=(0,o.useCallback)((function(e){var n="function"==typeof e?e(g):e;b.current=(null==n?void 0:n.list)||[],w(n)}),[g,w]),U=(0,o.useCallback)((function(){return k(),x.current=1,S((function(e){return(0,a.pi)((0,a.pi)({},e),{list:[]})})),N()}),[k,N,S]),Z=(0,o.useCallback)((function(){if(!C&&s)return L()}),[L,s,C]);return u({target:s,threshold:l,onScrollLower:Z}),(0,d.Z)((function(){I&&Array.isArray(f)&&f.length>0&&U()}),f),(0,a.pi)((0,a.pi)({},A),{loading:C,data:g,run:F,refresh:U,cancel:k,mutate:S,params:[(0,a.pi)((0,a.pi)({},R),{current:x.current})].concat(T),loadMore:L,loadingMore:C&&x.current>1,noMore:P})},m=t(57287),c=t(58727),f=t(67694),v=t(97661);var I=function(e,n,t){void 0===n&&(n=0),void 0===t&&(t=!1);var r=(0,v.Z)(e),a=(0,o.useRef)((0,c.Z)((function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return r.current.apply(void 0,e)}),n,t));return(0,f.Z)((function(){a.current.cancel()})),{run:a.current,cancel:a.current.cancel,flush:a.current.flush}};var y=function(e,n,t){void 0===n&&(n=0),void 0===t&&(t=!1);var r=(0,a.CR)((0,o.useState)(e),2),i=r[0],l=r[1],s=I(l,n,t).run;return(0,o.useEffect)((function(){s(e)}),[s,e]),i},b=t(54118),x=t(71112);var h=function(e,n){void 0===e&&(e=[]),void 0===n&&(n={});var t=n||{},r=t.count,i=void 0===r?3:r,l=t.defaultLimited,s=void 0===l||l,u=(0,o.useRef)(s),d=(0,o.useMemo)((function(){return Array.isArray(e)?e:[]}),[e]),p=(0,o.useMemo)((function(){return i>0?Math.ceil(i):0}),[i]),m=(0,o.useMemo)((function(){return d.length>p}),[p,d.length]),c=(0,a.CR)((0,o.useState)((function(){return m&&s?d.slice(0,p):d})),2),f=c[0],v=c[1];return(0,o.useEffect)((function(){v(u.current?d.slice(0,p):d)}),[p,d]),{canLimit:m,limited:u.current,data:f,toggle:function(){m&&(u.current=!u.current),v(u.current?d.slice(0,p):d)}}},F=t(17829),g=t(1495);function C(e){var n=(0,g.Z)(),t=(0,o.useRef)(),r=(0,o.useRef)(e);return n.current&&r.current!==e&&(t.current=r.current,r.current=e),t.current}var z=t(82869),B=t(96684),w=t(45983),A=t(30650),P=function(e,n){var t=(0,o.useRef)(!1);(0,o.useLayoutEffect)((function(){if(t.current)return e();t.current=!0}),n)},M=t(85474),R=t(87298),T=t.n(R);var N=function(e){return"function"==typeof e?e():"object"===T()(e)&&e&&"current"in e?e.current:e};var k=function(e,n,t){void 0===t&&(t="click");var r=(0,M.Z)(e),a=(0,v.Z)(r),i=r.every((function(e){return"function"==typeof e})),l=i?a:r,s=(0,v.Z)(n),u=(0,M.Z)(t),d=(0,v.Z)(u),p=u.join("");(0,o.useEffect)((function(){var e=function(e){var n;(i?l.current:l).some((function(n){var t=N(n);return!t||(null==t?void 0:t.contains(e.target))}))||null===(n=s.current)||void 0===n||n.call(s,e)},n=(0,M.Z)(d.current);return n.forEach((function(n){document.addEventListener(n,e)})),function(){n.forEach((function(n){document.removeEventListener(n,e)}))}}),[l,i,p])},L=t(44276),S=t(80916),U="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,Z=["top","right","bottom","left","width","height","size","weight"],E={characterData:!0,childList:!0,attributes:!0,subtree:!0},O=function(e){var n=this;this.refresh=function(){n.targetNode&&n.callback([{target:n.targetNode}],{})},this.onTransitionEnd_=function(e){var t=e.propertyName,r=void 0===t?"":t;Z.some((function(e){return r.indexOf(e)>-1}))&&n.throttleRefresh()},this.observe=function(e,t){U&&(n.targetNode=e,document.addEventListener("transitionend",n.onTransitionEnd_),window.addEventListener("resize",n.throttleRefresh),n.observer.observe(document,(0,a.pi)((0,a.pi)({},E),t)))},this.disconnect=function(){U&&(n.throttleRefresh.cancel(),n.targetNode=null,document.removeEventListener("transitionend",n.onTransitionEnd_),window.removeEventListener("resize",n.throttleRefresh),n.observer.disconnect())},this.throttleRefresh=(0,S.Z)(this.refresh,50),this.targetNode=null,this.callback=e,this.observer=new MutationObserver(this.throttleRefresh)};var q=function(e){var n=(0,v.Z)(e),t="function"==typeof e,r=t?n:e,i=(0,a.CR)((0,o.useState)((function(){var n=N(e);return{width:null==n?void 0:n.clientWidth,height:null==n?void 0:n.clientHeight}})),2),l=i[0],s=i[1];return(0,o.useEffect)((function(){var e=N(t?r.current:r);function n(e){e&&s({width:e.clientWidth,height:e.clientHeight})}if(!e)return function(){};n(e);var a=new O((function(e){e.forEach((function(e){n(e.target)}))}));return a.observe(e),function(){a.disconnect()}}),[r,t]),l}},50950:function(e,n,t){t.r(n),t.d(n,{texts:function(){return r}});const r=[{value:"基于 antd Form 扩展了布局、校验、转换值等功能，帮助业务快速开发。",paraId:0,tocIndex:0},{value:"添加文件后，立即上传到文件服务器，异步返回值将挂载到 ",paraId:1,tocIndex:6},{value:"file.response",paraId:1,tocIndex:6},{value:" 上，提交和校验时取出 ",paraId:1,tocIndex:6},{value:"file.response.fssid",paraId:1,tocIndex:6},{value:" 。",paraId:1,tocIndex:6},{value:"设置 ",paraId:2,tocIndex:6},{value:"onUpload",paraId:2,tocIndex:6},{value:" 后，添加上传文件自动调用并处理上传中状态和失败状态。上传成功的返回值将自动添加到 ",paraId:2,tocIndex:6},{value:"UploadFile",paraId:2,tocIndex:6},{value:" 对象的 ",paraId:2,tocIndex:6},{value:"response",paraId:2,tocIndex:6},{value:" 字段上。表单提交时再获取该值。",paraId:2,tocIndex:6},{value:"如果设置 ",paraId:3,tocIndex:6},{value:"transform",paraId:3,tocIndex:6},{value:" 可以帮助内置的规则进行校验。",paraId:3,tocIndex:6},{value:"修改页面中需要显示已有文件，并且支持实时上传。",paraId:4,tocIndex:7},{value:"将默认值转换成 ",paraId:5,tocIndex:7},{value:"UploadFile[]",paraId:5,tocIndex:7},{value:" 数据格式再传入，加载失败可以通过 ",paraId:5,tocIndex:7},{value:"error.message",paraId:5,tocIndex:7},{value:" 设置提示。",paraId:5,tocIndex:7},{value:"添加文件后不触发上传，在提交时获取所有文件一次性上传。",paraId:6,tocIndex:8},{value:"不设置 ",paraId:7,tocIndex:8},{value:"onUpload",paraId:7,tocIndex:8},{value:" 或 ",paraId:7,tocIndex:8},{value:"action",paraId:7,tocIndex:8},{value:" 的情况下，添加文件不会发起请求。",paraId:7,tocIndex:8},{value:"上传图片、pdf、audio、video 等类型的文件自定义缩略图及预览。关于文件预览可以参考 ",paraId:8,tocIndex:9},{value:"react-file-viewer",paraId:8,tocIndex:9},{value:" 。",paraId:8,tocIndex:9},{value:"通过 ",paraId:9,tocIndex:10},{value:"shouldUpdate",paraId:9,tocIndex:10},{value:" 实现。",paraId:9,tocIndex:10},{value:"通过 ",paraId:10,tocIndex:11},{value:"useWatch",paraId:10,tocIndex:11},{value:" 实现。如果使用 ",paraId:10,tocIndex:11},{value:"onValuesChange",paraId:10,tocIndex:11},{value:" 的方式，在 ",paraId:10,tocIndex:11},{value:"form.setFieldsValue",paraId:10,tocIndex:11},{value:" 修改值时不会触发。",paraId:10,tocIndex:11},{value:"通过 ",paraId:11,tocIndex:16},{value:"ready",paraId:11,tocIndex:16},{value:" 控制表单是否已准备好（如表单的初始值需要通过异步获取）。",paraId:11,tocIndex:16},{value:"import { BizForm } from 'antd-more';\n",paraId:12,tocIndex:17},{value:"除了以下参数，其余和 antd ",paraId:13,tocIndex:18},{value:"Form",paraId:13,tocIndex:18},{value:" 组件一样。",paraId:13,tocIndex:18},{value:"参数",paraId:14,tocIndex:18},{value:"说明",paraId:14,tocIndex:18},{value:"类型",paraId:14,tocIndex:18},{value:"默认值",paraId:14,tocIndex:18},{value:"onFinish",paraId:14,tocIndex:18},{value:"提交数据时触发，和 antd Form 一样。如果返回异步，会自动管理 loading 。",paraId:14,tocIndex:18},{value:"(values) => any",paraId:14,tocIndex:18},{value:"-",paraId:14,tocIndex:18},{value:"onReset",paraId:14,tocIndex:18},{value:"点击重置按钮的回调",paraId:14,tocIndex:18},{value:"(e) => void",paraId:14,tocIndex:18},{value:"-",paraId:14,tocIndex:18},{value:"submitter",paraId:14,tocIndex:18},{value:"提交、重置按钮相关配置",paraId:14,tocIndex:18},{value:"false | BizFormSubmitterProps",paraId:14,tocIndex:18},{value:"-",paraId:14,tocIndex:18},{value:"pressEnterSubmit",paraId:14,tocIndex:18},{value:"是否开启回车键提交，注意不要与自定义的 ",paraId:14,tocIndex:18},{value:"htmlType='submit'",paraId:14,tocIndex:18},{value:" 的按钮冲突。",paraId:14,tocIndex:18},{value:"boolean",paraId:14,tocIndex:18},{value:"true",paraId:14,tocIndex:18},{value:"ready",paraId:14,tocIndex:18},{value:"为 ",paraId:14,tocIndex:18},{value:"false",paraId:14,tocIndex:18},{value:" 时，禁止提交/重置表单。",paraId:14,tocIndex:18},{value:"为 ",paraId:14,tocIndex:18},{value:"true",paraId:14,tocIndex:18},{value:" 时，会重新设置表单初始值。",paraId:14,tocIndex:18},{value:"boolean",paraId:14,tocIndex:18},{value:"true",paraId:14,tocIndex:18},{value:"loading",paraId:14,tocIndex:18},{value:"设置提交、重置的加载/禁止状态。",paraId:14,tocIndex:18},{value:"如果 ",paraId:14,tocIndex:18},{value:"onFinish",paraId:14,tocIndex:18},{value:" 返回异步则无需设置，内部会自动更新。",paraId:14,tocIndex:18},{value:"boolean",paraId:14,tocIndex:18},{value:"false",paraId:14,tocIndex:18},{value:"labelWidth",paraId:14,tocIndex:18},{value:"label 宽度",paraId:14,tocIndex:18},{value:"number | string | false | null",paraId:14,tocIndex:18},{value:"84",paraId:14,tocIndex:18},{value:"hideLabel",paraId:14,tocIndex:18},{value:"隐藏 label",paraId:14,tocIndex:18},{value:"boolean",paraId:14,tocIndex:18},{value:"false",paraId:14,tocIndex:18},{value:"参数",paraId:15,tocIndex:19},{value:"说明",paraId:15,tocIndex:19},{value:"类型",paraId:15,tocIndex:19},{value:"默认值",paraId:15,tocIndex:19},{value:"onSubmit",paraId:15,tocIndex:19},{value:"点击提交按钮的回调",paraId:15,tocIndex:19},{value:"(e) => void",paraId:15,tocIndex:19},{value:"-",paraId:15,tocIndex:19},{value:"onReset",paraId:15,tocIndex:19},{value:"点击重置按钮的回调",paraId:15,tocIndex:19},{value:"(e) => void",paraId:15,tocIndex:19},{value:"-",paraId:15,tocIndex:19},{value:"submitText",paraId:15,tocIndex:19},{value:"提交按钮文本",paraId:15,tocIndex:19},{value:"ReactNode",paraId:15,tocIndex:19},{value:"提交",paraId:15,tocIndex:19},{value:"resetText",paraId:15,tocIndex:19},{value:"重置按钮文本",paraId:15,tocIndex:19},{value:"ReactNode",paraId:15,tocIndex:19},{value:"重置",paraId:15,tocIndex:19},{value:"submitButtonProps",paraId:15,tocIndex:19},{value:"提交按钮属性，和 antd ",paraId:15,tocIndex:19},{value:"Button",paraId:15,tocIndex:19},{value:" 一致",paraId:15,tocIndex:19},{value:"ButtonProps",paraId:15,tocIndex:19},{value:"-",paraId:15,tocIndex:19},{value:"resetButtonProps",paraId:15,tocIndex:19},{value:"重置按钮属性，和 antd ",paraId:15,tocIndex:19},{value:"Button",paraId:15,tocIndex:19},{value:" 一致",paraId:15,tocIndex:19},{value:"ButtonProps",paraId:15,tocIndex:19},{value:"-",paraId:15,tocIndex:19},{value:"noReset",paraId:15,tocIndex:19},{value:"不渲染重置按钮",paraId:15,tocIndex:19},{value:"boolean",paraId:15,tocIndex:19},{value:"false",paraId:15,tocIndex:19},{value:"render",paraId:15,tocIndex:19},{value:"自定义操作的渲染",paraId:15,tocIndex:19},{value:"false | (props: BizFormSubmitterProps, dom: ReactElement[]) => ReactNode",paraId:15,tocIndex:19},{value:"-",paraId:15,tocIndex:19},{value:"submitButtonProps",paraId:16,tocIndex:19},{value:" ",paraId:16,tocIndex:19},{value:"resetButtonProps",paraId:16,tocIndex:19},{value:" 额外支持 ",paraId:16,tocIndex:19},{value:"preventDefault",paraId:16,tocIndex:19},{value:" 配置项，如果设置为 ",paraId:16,tocIndex:19},{value:"true",paraId:16,tocIndex:19},{value:" ，则不触发预置行为。",paraId:16,tocIndex:19},{value:"<BizForm\n  submitter={{\n    submitButtonProps: {\n      preventDefault: true, // 点击提交按钮，不触发表单提交\n      onClick() {} // 自定义点击回调\n    },\n    resetButtonProps: {\n      preventDefault: true, // 点击重置按钮，不触发表单重置\n      onClick() {} // 自定义点击回调\n    }\n  }}\n>\n  // ...\n</BizForm>\n",paraId:17,tocIndex:19}]},42888:function(e,n){n.Z="import * as React from 'react';\nimport { BizForm, BizFormItemInput } from 'antd-more';\nimport { sleep } from 'ut2';\n\nasync function getNameApi() {\n  await sleep(2000);\n  return '李四';\n}\n\nconst Demo = () => {\n  const [ready, setReady] = React.useState(false);\n  const [initialValues, setInitialValues] = React.useState({ name: '张三' });\n\n  React.useEffect(() => {\n    getNameApi().then((name) => {\n      setInitialValues({ name });\n      setReady(true);\n    });\n  }, []);\n\n  return (\n    <BizForm\n      name=\"form-async-initial-values\"\n      onFinish={async (values) => {\n        await sleep();\n        console.log(values);\n      }}\n      ready={ready}\n      initialValues={initialValues}\n    >\n      <BizFormItemInput label=\"姓名\" name=\"name\" />\n    </BizForm>\n  );\n};\n\nexport default Demo;\n"},80941:function(e,n){n.Z='import * as React from \'react\';\nimport { message, Checkbox } from \'antd\';\nimport {\n  BizForm,\n  BizFormItem,\n  BizFormItemInput,\n  BizFormItemCaptcha,\n  BizFormItemPassword\n} from \'antd-more\';\nimport { useAsync } from \'rc-hooks\';\nimport {\n  UserOutlined,\n  LockOutlined,\n  SafetyCertificateOutlined,\n  MobileOutlined,\n  MailOutlined\n} from \'@ant-design/icons\';\nimport IdentifyCode from \'./components/IdentifyCode\';\nimport { sleep } from \'ut2\';\n\nasync function sendCaptcha(mobile) {\n  await sleep(2000);\n  message.success(`验证码已发送至 ${mobile}`);\n  return;\n}\n\nasync function getGraphValidateCode() {\n  await sleep();\n  return `data:image/jpg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAoHBwkHBgoJCAkLCwoMDxkQDw4ODx4WFxIZJCAmJSMgIyIoLTkwKCo2KyIjMkQyNjs9QEBAJjBGS0U+Sjk/QD3/2wBDAQsLCw8NDx0QEB09KSMpPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT3/wgARCAAoAIsDAREAAhEBAxEB/8QAGQABAAMBAQAAAAAAAAAAAAAAAAUGBwQD/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAAA2UAAFdPQngRhwlhAAAAABlZoZIg8ChGiAiziLCACCM8NPJEopegCJKgaKDyM/NFABVivltJwAAAAz8ly0gAHIdYAAAAAAP/EADkQAAEDAQMGCwYHAAAAAAAAAAMCBAUTAAYSAQcQICIjERQwMjM0QlJiksIVFiVyhLIXJDZDUVSi/9oACAEBAAE/ANY18oRq9KyI74XTfpRCCQlLyos0vZEujjbgKeqTYRwtCo9OmWmmcOIa3xCox9wJCfZaNvnCy50Cjntcq9jdiJg8+DlYB8dhnRvattGu39Sn1anu/OtNox8Z+EizR7tnt8xzT9C1aXfVi/JbMn+g/qSaZe8EVB0/aj8DOp0dWwr83aOUYQTTJZSbCN7q3sXLogXK4EYiPsG7qejx2L7r+7Q1xjl37fr7vo+P16nbR89oZT8kU3XKjEN9+7kHouxDvmecS8z9y1KNq7p0i9/UmZFbIGwwePKmNH5an61ptmwHI3ehBxD+FfoKs5CVdin9+ki0DHlWvmIsYf4jTTVYRUoOLc1Buf7RE9zwat/gzJ7puEQPT9vv4PB47P310l3B4kz+mai65X7GxzseO11RyoLvNkTxAkfdun/nks5GWUJliGjJq7cRpy/EeLCXUppWju7dmF5WIxCaAjJgQtgY/hpx63EGaCY0NQ5CfzS5f//EABQRAQAAAAAAAAAAAAAAAAAAAGD/2gAIAQIBAT8ANf/EABQRAQAAAAAAAAAAAAAAAAAAAGD/2gAIAQMBAT8ANf/Z`;\n}\n\nconst LoginDemo = () => {\n  const [form] = BizForm.useForm();\n\n  const { loading, data: src, refresh: refreshGraphValidateCode } = useAsync(getGraphValidateCode);\n\n  return (\n    <div style={{ width: \'80%\', maxWidth: 380, margin: \'0 auto\' }}>\n      <BizForm\n        name="form-login"\n        form={form}\n        onFinish={async (values) => {\n          await sleep(2000);\n          console.log(values);\n        }}\n        submitter={{\n          noReset: true,\n          submitText: \'登录\',\n          submitButtonProps: {\n            size: \'large\',\n            block: true\n          }\n        }}\n        hideLabel\n        size="large"\n      >\n        <BizFormItemInput\n          name="userName"\n          placeholder="请输入用户名"\n          inputProps={{\n            prefix: <UserOutlined />\n          }}\n          label="用户名"\n          required\n        />\n        <BizFormItemPassword\n          name="password"\n          placeholder="请输入密码"\n          inputProps={{\n            prefix: <LockOutlined />\n          }}\n          label="密码"\n          required\n          validated={false}\n        />\n        <BizFormItemInput\n          name="email"\n          type="email"\n          placeholder="请输入邮箱"\n          inputProps={{\n            prefix: <MailOutlined />\n          }}\n          label="邮箱"\n          required\n        />\n        <BizFormItemInput\n          name="mobile"\n          type="mobile"\n          placeholder="请输入手机号码"\n          inputProps={{\n            prefix: <MobileOutlined />\n          }}\n          label="手机号码"\n          required\n        />\n        <BizFormItemCaptcha\n          name="captcha"\n          normalize={(val) => val.replace(/[^\\d]/g, \'\')}\n          placeholder="请输入验证码"\n          maxLength={6}\n          inputProps={{\n            prefix: <SafetyCertificateOutlined />\n          }}\n          required\n          label="验证码"\n          onGetCaptcha={async () => {\n            try {\n              // 验证手机号码或邮箱是否正确\n              await form.validateFields([\'mobile\']);\n            } catch (err) {\n              message.error(\'请输入正确的手机号码\');\n              return false;\n            }\n\n            // 发送验证码\n            return sendCaptcha(form.getFieldValue(\'mobile\'));\n          }}\n        />\n        <BizFormItemInput\n          name="verifyCode"\n          placeholder="请输入图片验证码"\n          inputProps={{\n            prefix: <SafetyCertificateOutlined />\n          }}\n          contentAfter={\n            <IdentifyCode loading={loading} src={src} onClick={refreshGraphValidateCode} />\n          }\n          label="图片验证码"\n          required\n        />\n        <BizFormItem>\n          <BizFormItem noStyle name="autoLogin" valuePropName="checked">\n            <Checkbox>自动登录</Checkbox>\n          </BizFormItem>\n          <a style={{ float: \'right\' }}>忘记密码</a>\n        </BizFormItem>\n      </BizForm>\n    </div>\n  );\n};\n\nexport default LoginDemo;\n'},54717:function(e,n){n.Z='import * as React from \'react\';\nimport { BizForm, BizFormItemInput, BizFormItemAddress, BizFormItemPassword } from \'antd-more\';\nimport { getPCA } from \'lcn\';\nimport { sleep } from \'ut2\';\n\nconst pca = getPCA({ inland: true, fieldNames: { code: \'value\', name: \'label\' } });\n\nconst RegisterDemo = () => {\n  return (\n    <BizForm\n      name="base-register"\n      onFinish={async (values) => {\n        await sleep(2000);\n        console.log(values);\n      }}\n    >\n      <BizFormItemInput\n        label="用户名"\n        name="userName"\n        type="userName"\n        required\n        extendRules={[\n          {\n            min: 6,\n            max: 32,\n            message: \'用户名为6～32位\'\n          }\n        ]}\n      />\n      <BizFormItemInput label="手机号码" name="mobile" type="mobile" required />\n      <BizFormItemInput label="身份证号" name="idCard" type="idCard" required />\n      <BizFormItemInput label="邮箱" name="email" type="email" />\n      <BizFormItemPassword label="密码" name="password" required />\n      <BizFormItemAddress\n        label="地址"\n        names={[\'location\', \'address\']}\n        labels={[\'省/市/区\', \'详细地址\']}\n        required\n        options={pca}\n      />\n    </BizForm>\n  );\n};\n\nexport default RegisterDemo;\n'},19284:function(e,n){n.Z="import * as React from 'react';\nimport { Radio } from 'antd';\nimport { BizForm, BizFormItem, BizFormItemInput, BizFormItemUpload } from 'antd-more';\nimport { isUrl } from 'util-helpers';\nimport { uploadFile } from './services';\nimport { uploadFileToFssid } from './utils/fileUtils';\n\n// 收单方式\n// 0-Other 1-PayPal 2-stripe\nenum CollectType {\n  Other = '0',\n  PayPal = '1',\n  Stripe = '2'\n}\nconst CollectTypeOptions = [\n  {\n    label: 'PayPal',\n    value: CollectType.PayPal\n  },\n  {\n    label: 'stripe',\n    value: CollectType.Stripe\n  },\n  {\n    label: '其他',\n    value: CollectType.Other\n  }\n];\n\nfunction Demo() {\n  const [form] = BizForm.useForm();\n\n  return (\n    <BizForm\n      name=\"business-info\"\n      form={form}\n      onFinish={(values) => {\n        console.log(values);\n      }}\n    >\n      <BizFormItem\n        label=\"收单方式\"\n        name=\"collectType\"\n        required\n        rules={[\n          {\n            validator(rule, value) {\n              if (!value) {\n                return Promise.reject(`请选择收单方式`);\n              }\n\n              return Promise.resolve();\n            }\n          }\n        ]}\n      >\n        <Radio.Group>\n          {CollectTypeOptions.map((item) => {\n            return (\n              <Radio\n                key={item.value}\n                value={item.value}\n                style={item.value === CollectType.Other ? { marginTop: 3, height: 24 } : {}}\n              >\n                <div style={{ display: 'flex' }}>\n                  <span>{item.label}</span>\n                  {item.value === CollectType.Other ? (\n                    <BizFormItem noStyle shouldUpdate>\n                      {() => {\n                        const collectType = form.getFieldValue(['collectType']);\n\n                        if (collectType === CollectType.Other) {\n                          return (\n                            <BizFormItemInput\n                              label=\"收单方式名称\"\n                              name=\"collectName\"\n                              required\n                              hideLabel\n                              inputProps={{\n                                placeholder: '请输入收单方式名称'\n                              }}\n                              style={{ marginTop: -5, marginLeft: 5, marginBottom: 0 }}\n                            />\n                          );\n                        }\n                        return null;\n                      }}\n                    </BizFormItem>\n                  ) : null}\n                </div>\n              </Radio>\n            );\n          })}\n        </Radio.Group>\n      </BizFormItem>\n      <BizFormItemInput\n        label=\"销售地址\"\n        name=\"webSiteUrl\"\n        required\n        maxLength={350}\n        extendRules={[\n          {\n            validator(rule, value) {\n              if (value && !isUrl(value)) {\n                return Promise.reject('请输入正确的网址');\n              }\n              return Promise.resolve();\n            }\n          }\n        ]}\n      />\n      <BizFormItemUpload\n        label=\"证明文件\"\n        name=\"busDesDocument\"\n        type=\"image\"\n        required\n        maxCount={6}\n        maxSize={20 * 1024 * 1024}\n        onUpload={uploadFile}\n        transform={uploadFileToFssid}\n      />\n    </BizForm>\n  );\n}\n\nexport default Demo;\n"},32217:function(e,n){n.Z="import * as React from 'react';\nimport { BizForm, BizFormItem, BizFormItemPassword } from 'antd-more';\nimport { sleep } from 'ut2';\n\nconst Demo = () => {\n  const [form] = BizForm.useForm();\n\n  return (\n    <BizForm\n      submitter={{\n        submitText: '确定',\n        noReset: true\n      }}\n      onFinish={async (values) => {\n        await sleep(2000);\n        console.log(values);\n      }}\n      form={form}\n      labelWidth={98}\n      name=\"form-change-password\"\n    >\n      <BizFormItem label=\"手机号码\">13000000000</BizFormItem>\n      <BizFormItem label=\"用户名\">guest</BizFormItem>\n      <BizFormItemPassword label=\"原密码\" name=\"password\" required validated={false} />\n      <BizFormItemPassword\n        label=\"新密码\"\n        name=\"newPassword\"\n        required\n        dependencies={['password']}\n        extendRules={[\n          {\n            validator(rules, value) {\n              let errMsg = '';\n              const oldPwd = form.getFieldValue('password');\n              if (oldPwd && oldPwd === value) {\n                errMsg = '新密码不能与原密码一致';\n              }\n              if (errMsg) {\n                return Promise.reject(errMsg);\n              }\n\n              return Promise.resolve();\n            }\n          }\n        ]}\n      />\n      <BizFormItemPassword\n        label=\"重复新密码\"\n        name=\"repeatNewPassword\"\n        required\n        dependencies={['newPassword']}\n        rules={[\n          {\n            validator(rules, value) {\n              let errMsg = '';\n              if (!value) {\n                errMsg = '请再次输入新密码';\n              } else if (value !== form.getFieldValue('newPassword')) {\n                errMsg = '两次输入的密码不一致';\n              }\n              if (errMsg) {\n                return Promise.reject(errMsg);\n              }\n              return Promise.resolve();\n            }\n          }\n        ]}\n      />\n    </BizForm>\n  );\n};\n\nexport default Demo;\n"},55237:function(e,n){n.Z="import * as React from 'react';\nimport { Row, Col } from 'antd';\nimport { BizForm, BizFormItemInput, BizFormItemAddress } from 'antd-more';\nimport { isSocialCreditCode, isBusinessLicense } from 'util-helpers';\nimport { getPCA } from 'lcn';\nimport { sleep } from 'ut2';\n\nconst pca = getPCA({ inland: true, fieldNames: { code: 'value', name: 'label' } });\n\nconst oneColSpan = {\n  span: 24\n};\nconst twoColSpan = {\n  span: 24,\n  lg: 12\n};\n\nconst CompanyInfo = () => {\n  return (\n    <BizForm\n      name=\"form-company-info\"\n      onFinish={async (values) => {\n        await sleep(2000);\n        console.log(values);\n      }}\n      initialValues={{\n        businessRegno: '91110000JF7YGXPE8R'\n      }}\n      submitter={{\n        submitText: '提交',\n        submitButtonProps: {\n          size: 'large',\n          style: {\n            padding: '0 40px'\n          }\n        },\n        noReset: true,\n        // 提交按钮居中\n        render: (_, dom) => <div style={{ display: 'flex', justifyContent: 'center' }}>{dom}</div>\n      }}\n      labelWidth={126}\n    >\n      <Row>\n        <Col {...oneColSpan}>\n          <BizFormItemInput\n            label=\"公司名称\"\n            name=\"companyName\"\n            required\n            disabledWhiteSpace\n            placeholder=\"请输入公司营业执照上的商户全称\"\n          />\n        </Col>\n        <Col {...twoColSpan}>\n          <BizFormItemInput\n            label=\"营业执照号\"\n            name=\"businessRegno\"\n            required\n            placeholder=\"请输入统一社会信用代码或营业执照号\"\n            rules={[\n              {\n                validator(rules, value) {\n                  let errMsg = '';\n                  if (!value) {\n                    errMsg = '请输入统一社会信用代码或营业执照号';\n                  } else if (!isBusinessLicense(value) && !isSocialCreditCode(value)) {\n                    errMsg = '请输入正确的营业执照号';\n                  }\n                  if (errMsg) {\n                    return Promise.reject(errMsg);\n                  }\n                  return Promise.resolve();\n                }\n              }\n            ]}\n          />\n        </Col>\n        <Col {...twoColSpan}>\n          <BizFormItemInput label=\"法人姓名\" name=\"legalName\" required />\n        </Col>\n        <Col {...twoColSpan}>\n          <BizFormItemInput label=\"法人身份证号\" name=\"legalIdCard\" type=\"idCard\" required />\n        </Col>\n        <Col {...twoColSpan}>\n          <BizFormItemInput label=\"法人手机号码\" name=\"legalMobile\" type=\"mobile\" required />\n        </Col>\n        <Col {...oneColSpan}>\n          <BizFormItemAddress\n            label=\"公司地址\"\n            names={['location', 'address']}\n            labels={['省/市/区', '详细地址']}\n            options={pca}\n            required\n          />\n        </Col>\n      </Row>\n    </BizForm>\n  );\n};\n\nexport default CompanyInfo;\n"},78365:function(e,n){n.Z="import * as React from 'react';\nimport { Tooltip, Spin } from 'antd';\n\ninterface IdentifyCodeProps {\n  loading?: boolean;\n  src?: string;\n  width?: string | number;\n  height?: string | number;\n  onClick?: () => void;\n  style?: React.CSSProperties;\n  className?: string;\n}\n\nconst IdentifyCode: React.FC<IdentifyCodeProps> = ({\n  loading = true,\n  src,\n  width = 108,\n  height = 40,\n  onClick,\n  style,\n  className\n}) => {\n  const img = (\n    <img\n      src={src}\n      style={{ display: 'block', width: '100%', height: '100%', cursor: 'pointer' }}\n      alt=\"验证码\"\n      onClick={onClick}\n    />\n  );\n\n  return (\n    <Spin size=\"small\" spinning={loading}>\n      <div className={className} style={{ width, height, ...style }}>\n        {src && <Tooltip title=\"点击刷新验证码\">{img}</Tooltip>}\n      </div>\n    </Spin>\n  );\n};\n\nexport default IdentifyCode;\n"},4166:function(e,n){n.Z="// 周期\n// 1-日 2-月 3-季\nexport enum Cycle {\n  Day = '1',\n  Month = '2',\n  Quarter = '3'\n}\n\n// 周期选项\nexport const CycleOptions = [\n  {\n    label: '按日',\n    value: Cycle.Day\n  },\n  {\n    label: '按月',\n    value: Cycle.Month\n  },\n  {\n    label: '按季度',\n    value: Cycle.Quarter\n  }\n];\n\n// 返佣周期\n// 1-日 2-月\nexport enum RakebackeCycle {\n  Day = '1',\n  Month = '2'\n}\n\n// 返佣周期选项\nexport const RakebackeCycleOptions = [\n  {\n    label: '日返',\n    value: RakebackeCycle.Day\n  },\n  {\n    label: '月返',\n    value: RakebackeCycle.Month\n  }\n];\n\n// 收款账号选项\nexport const BillAccountOptions = [\n  {\n    label: '张三',\n    value: 'a'\n  },\n  {\n    label: '李四',\n    value: 'b'\n  }\n];\n"},30649:function(e,n){n.Z="import * as React from 'react';\nimport { message } from 'antd';\nimport { BizForm, BizFormItemCaptcha, BizFormItemPassword, BizFormItemInput } from 'antd-more';\nimport { sleep } from 'ut2';\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nasync function sendCaptcha(mobile: string) {\n  await sleep(2000);\n  return;\n}\n\nconst ForgetPassword = () => {\n  const [form] = BizForm.useForm();\n\n  return (\n    <BizForm\n      name=\"form-forget-password\"\n      onFinish={async (values) => {\n        await sleep();\n        console.log(values);\n      }}\n      submitter={{\n        submitText: '确定',\n        noReset: true\n      }}\n      form={form}\n      labelWidth={98}\n    >\n      <BizFormItemInput label=\"手机号码\" name=\"mobile\" type=\"mobile\" required />\n      <BizFormItemCaptcha\n        label=\"验证码\"\n        name=\"captcha\"\n        required\n        normalize={(val) => val.replace(/[^\\d]/g, '')}\n        maxLength={6}\n        onGetCaptcha={async () => {\n          try {\n            // 验证手机号码或邮箱是否正确\n            await form.validateFields(['mobile']);\n          } catch (err) {\n            message.error('请输入正确的手机号码');\n            return false;\n          }\n\n          // 发送验证码\n          return sendCaptcha(form.getFieldValue('mobile'));\n        }}\n      />\n      <BizFormItemPassword label=\"新密码\" name=\"password\" required allowClear={false} />\n      <BizFormItemPassword\n        label=\"重复新密码\"\n        name=\"repeatPassword\"\n        required\n        dependencies={['password']}\n        validateTrigger=\"onBlur\"\n        rules={[\n          {\n            validator(rules, value) {\n              let errMsg = '';\n              if (!value) {\n                errMsg = '请再次输入新密码';\n              } else if (value !== form.getFieldValue('password')) {\n                errMsg = '两次输入的密码不一致';\n              }\n              if (errMsg) {\n                return Promise.reject(errMsg);\n              }\n              return Promise.resolve();\n            }\n          }\n        ]}\n      />\n    </BizForm>\n  );\n};\n\nexport default ForgetPassword;\n"},14472:function(e,n){n.Z="import * as React from 'react';\nimport {\n  BizForm,\n  BizFormItemRadio,\n  BizFormItemInput,\n  BizFormItemCaptcha,\n  BizFormItemPassword\n} from 'antd-more';\nimport { sleep } from 'ut2';\nimport { message } from 'antd';\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nasync function sendCaptcha(mobile: string) {\n  await sleep(2000);\n  return;\n}\n\nenum LoginType {\n  Message,\n  Account\n}\n\nconst LoginTypeOptions = [\n  {\n    label: '短信验证码',\n    value: LoginType.Message\n  },\n  {\n    label: '账号密码',\n    value: LoginType.Account\n  }\n];\n\nfunction Demo() {\n  return (\n    <BizForm\n      submitter={{\n        submitText: '提交',\n        submitButtonProps: {\n          size: 'large',\n          style: {\n            padding: '0 40px'\n          }\n        },\n        noReset: true\n      }}\n      labelWidth={98}\n      onFinish={(values) => {\n        console.log(values);\n      }}\n      initialValues={{\n        loginType: LoginType.Message\n      }}\n    >\n      <BizFormItemRadio\n        label=\"登录方式\"\n        name=\"loginType\"\n        options={LoginTypeOptions}\n        optionType=\"button\"\n        radioGroupProps={{ buttonStyle: 'solid' }}\n      />\n      <BizForm.Item\n        noStyle\n        shouldUpdate={(prevVlaue, nextValue) => prevVlaue.loginType !== nextValue.loginType}\n      >\n        {(form) => {\n          if (form.getFieldValue('loginType') === LoginType.Message) {\n            return (\n              <>\n                <BizFormItemInput label=\"手机号码\" name=\"mobile\" type=\"mobile\" required />\n                <BizFormItemCaptcha\n                  label=\"短信验证码\"\n                  name=\"code\"\n                  required\n                  onGetCaptcha={async () => {\n                    try {\n                      await form.validateFields(['mobile']);\n                    } catch (err) {\n                      message.error('请输入正确的手机号码');\n                      return false;\n                    }\n                    return sendCaptcha(form.getFieldValue('mobile'));\n                  }}\n                />\n              </>\n            );\n          } else {\n            return (\n              <>\n                <BizFormItemInput\n                  label=\"账户\"\n                  name=\"account\"\n                  disabledWhiteSpace\n                  placeholder=\"请输入手机号码或邮箱\"\n                  required\n                />\n                <BizFormItemPassword label=\"密码\" name=\"password\" validated={false} required />\n              </>\n            );\n          }\n        }}\n      </BizForm.Item>\n    </BizForm>\n  );\n}\n\nexport default Demo;\n"},49981:function(e,n){n.Z="import * as React from 'react';\nimport { Row, Col } from 'antd';\nimport { isBusinessLicense, isSocialCreditCode } from 'util-helpers';\nimport { BizForm, BizFormItemRadio, BizFormItemInput, BizFormItemAddress } from 'antd-more';\nimport { getPCA } from 'lcn';\n\nconst pca = getPCA({ inland: true, fieldNames: { code: 'value', name: 'label' } });\n\n// 机构类型\n// 1-公司 2-个人\nenum OrgType {\n  Company = 1,\n  Person\n}\n\n// 机构类型选项\nconst OrgTypeOptions = [\n  {\n    label: '公司',\n    value: OrgType.Company\n  },\n  {\n    label: '个人',\n    value: OrgType.Person\n  }\n];\n\nconst oneColSpan = {\n  span: 24\n};\nconst twoColSpan = {\n  span: 24,\n  lg: 12\n};\n\nconst BaseInfo = () => {\n  const initialValues = React.useMemo(\n    () => ({\n      orgType: OrgType.Company,\n      businessRegno: '91110000JF7YGXPE8R'\n    }),\n    []\n  );\n  const [form] = BizForm.useForm();\n  const orgType = BizForm.useWatch(['orgType'], form);\n\n  const isCompany = orgType === OrgType.Company;\n  const legalIdCardLabel = `${isCompany ? '法人' : ''}身份证号`;\n  const legalMobileLabel = `${isCompany ? '法人' : ''}手机号码`;\n  const orgNamePlaceholder = `请输入${\n    isCompany ? '公司营业执照上的商户全称' : '机构代表人姓名'\n  }，将作为机构名称`;\n\n  return (\n    <BizForm\n      name=\"form-linkage2\"\n      form={form}\n      labelWidth={126}\n      initialValues={initialValues}\n      onFinish={(values) => {\n        console.log(values);\n      }}\n      submitter={{\n        submitText: '提交',\n        submitButtonProps: {\n          size: 'large',\n          style: {\n            padding: '0 40px'\n          }\n        },\n        // reset 操作对联动表单有异常\n        noReset: true,\n        // 提交按钮居中\n        render: (_, dom) => <div style={{ display: 'flex', justifyContent: 'center' }}>{dom}</div>\n      }}\n    >\n      <Row>\n        <Col {...oneColSpan}>\n          <BizFormItemRadio\n            label=\"机构类型\"\n            name=\"orgType\"\n            options={OrgTypeOptions}\n            extra=\"“公司”有营业执照、“个人”无营业执照\"\n            required\n          />\n        </Col>\n        <Col {...oneColSpan}>\n          <BizFormItemInput\n            label=\"机构名称\"\n            name=\"orgName\"\n            placeholder={orgNamePlaceholder}\n            disabledWhiteSpace\n            required\n          />\n        </Col>\n        {isCompany && (\n          <>\n            <Col {...twoColSpan}>\n              <BizFormItemInput\n                label=\"营业执照号\"\n                name=\"businessRegno\"\n                placeholder=\"请输入统一社会信用代码或营业执照号\"\n                maxLength={18}\n                required\n                rules={[\n                  {\n                    validator(rules, value) {\n                      let errMsg = '';\n                      if (!value) {\n                        errMsg = '请输入统一社会信用代码或营业执照号';\n                      } else if (!isBusinessLicense(value) && !isSocialCreditCode(value)) {\n                        errMsg = '请输入正确的营业执照号';\n                      }\n                      if (errMsg) {\n                        return Promise.reject(errMsg);\n                      }\n                      return Promise.resolve();\n                    }\n                  }\n                ]}\n              />\n            </Col>\n            <Col {...twoColSpan}>\n              <BizFormItemInput label=\"法人姓名\" name=\"legalName\" required disabledWhiteSpace />\n            </Col>\n          </>\n        )}\n        <Col {...twoColSpan}>\n          <BizFormItemInput\n            label={legalIdCardLabel}\n            // 用于修改默认验证信息\n            messageVariables={{ label: '身份证号' }}\n            name=\"legalIdCard\"\n            type=\"idCard\"\n            required\n          />\n        </Col>\n        <Col {...twoColSpan}>\n          <BizFormItemInput\n            label={legalMobileLabel}\n            // 用于修改默认验证信息\n            messageVariables={{ label: '手机号码' }}\n            name=\"legalMobile\"\n            type=\"mobile\"\n            required\n          />\n        </Col>\n        <Col {...oneColSpan}>\n          <BizFormItemAddress\n            label=\"机构所在地址\"\n            labels={['省/市/区', '详细地址']}\n            names={['location', 'address']}\n            options={pca}\n            required\n          />\n        </Col>\n      </Row>\n    </BizForm>\n  );\n};\n\nexport default BaseInfo;\n"},46914:function(e,n){n.Z='import * as React from \'react\';\nimport { Row, Col } from \'antd\';\nimport { BizForm, BizFormItem, BizFormItemRadio, BizFormItemNumber } from \'antd-more\';\nimport { sleep } from \'ut2\';\nimport { RakebackeCycleOptions } from \'./constants\';\n\nconst oneColSpan = {\n  span: 24\n};\nconst threeColSpan = {\n  span: 24,\n  lg: 12,\n  xl: 8\n};\n\nconst RakebackeInfo = () => {\n  return (\n    <BizForm\n      name="form-rakebacke-info"\n      onFinish={async (values) => {\n        await sleep(2000);\n        console.log(values);\n      }}\n      submitter={{\n        submitText: \'提交\',\n        submitButtonProps: {\n          size: \'large\',\n          style: {\n            padding: \'0 40px\'\n          }\n        },\n        noReset: true,\n        // 提交按钮居中\n        render: (_, dom) => <div style={{ display: \'flex\', justifyContent: \'center\' }}>{dom}</div>\n      }}\n      labelWidth={112}\n    >\n      <Row>\n        <Col {...oneColSpan}>\n          <BizFormItemRadio\n            label="返佣周期"\n            name="rakebackeCycle"\n            required\n            options={RakebackeCycleOptions}\n          />\n        </Col>\n        <Col {...oneColSpan}>\n          <BizFormItem label="普通刷卡" colon={false}>\n            <Row>\n              <Col {...threeColSpan}>\n                <BizFormItemNumber\n                  label="借记卡"\n                  name="costpriceCp"\n                  labelWidth={98}\n                  required\n                  precision={2}\n                  addonAfter="%"\n                  gt={0}\n                  lt={100}\n                />\n              </Col>\n              <Col {...threeColSpan}>\n                <BizFormItemNumber\n                  label="借记卡封顶"\n                  name="costpriceCpMaxFee"\n                  labelWidth={98}\n                  required\n                  precision={2}\n                  addonAfter="元"\n                  gt={0}\n                />\n              </Col>\n              <Col {...threeColSpan}>\n                <BizFormItemNumber\n                  label="贷记卡"\n                  name="costpriceCpCredit"\n                  labelWidth={98}\n                  required\n                  precision={2}\n                  addonAfter="%"\n                  gt={0}\n                  lt={100}\n                />\n              </Col>\n              <Col {...threeColSpan}>\n                <BizFormItemNumber\n                  label="IC卡小额"\n                  name="costpriceIC"\n                  labelWidth={98}\n                  required\n                  precision={2}\n                  tooltip="IC卡小额双免优惠费率"\n                  addonAfter="%"\n                  gt={0}\n                  lt={100}\n                />\n              </Col>\n            </Row>\n          </BizFormItem>\n        </Col>\n        <Col {...oneColSpan}>\n          <BizFormItem label="扫码支付" colon={false}>\n            <Row>\n              <Col {...threeColSpan}>\n                <BizFormItemNumber\n                  label="支付宝"\n                  name="costpriceAlipay"\n                  labelWidth={98}\n                  required\n                  precision={2}\n                  addonAfter="%"\n                  gt={0}\n                  lt={100}\n                />\n              </Col>\n              <Col {...threeColSpan}>\n                <BizFormItemNumber\n                  label="微信"\n                  name="costpriceWechat"\n                  labelWidth={98}\n                  required\n                  precision={2}\n                  addonAfter="%"\n                  gt={0}\n                  lt={100}\n                />\n              </Col>\n              <Col {...threeColSpan}>\n                <BizFormItemNumber\n                  label="银二小额"\n                  name="costpriceUionpay"\n                  labelWidth={98}\n                  required\n                  precision={2}\n                  tooltip="银联二维码小额优惠费率"\n                  addonAfter="%"\n                  gt={0}\n                  lt={100}\n                />\n              </Col>\n            </Row>\n          </BizFormItem>\n        </Col>\n        <Col {...oneColSpan}>\n          <BizFormItem label="结算" colon={false}>\n            <Row>\n              <Col {...threeColSpan}>\n                <BizFormItemNumber\n                  label="结算手续费"\n                  name="settlementFee"\n                  labelWidth={98}\n                  required\n                  precision={2}\n                  addonAfter="元/笔"\n                  gte={0}\n                />\n              </Col>\n            </Row>\n          </BizFormItem>\n        </Col>\n      </Row>\n    </BizForm>\n  );\n};\n\nexport default RakebackeInfo;\n'},84325:function(e,n){n.Z="import { sleep } from 'ut2';\n\n// 上传文件\nexport async function uploadFile(file: File): Promise<{ fssid: string }> {\n  console.log('uploadFile: ', file);\n\n  await sleep(2000);\n  if (Math.random() > 0.2) {\n    return {\n      fssid: `${Math.random().toString(16).substring(2)}`\n    };\n  }\n  throw new Error('error');\n}\n\n// 下载文件\nexport async function downloadFile(fssid: string) {\n  console.log('downloadFile: ', fssid);\n\n  await sleep(2000);\n  if (Math.random() > 0.2) {\n    return {\n      data: `https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png`\n    };\n  }\n  throw new Error('error');\n}\n"},21269:function(e,n){n.Z="import * as React from 'react';\nimport { Row, Col } from 'antd';\nimport { BizForm, BizFormItemInput, BizFormItemAddress, BizFormItemRadio } from 'antd-more';\nimport { getPC } from 'lcn';\nimport { sleep } from 'ut2';\n\nconst pc = getPC({ inland: true, fieldNames: { code: 'value', name: 'label' } });\n\nconst oneColSpan = {\n  span: 24\n};\nconst twoColSpan = {\n  span: 24,\n  lg: 12\n};\n\n// 结算方式\nconst SettlementCycleOptions = [\n  {\n    value: 'T1',\n    label: 'T+1'\n  },\n  {\n    value: 'D1',\n    label: 'D+1'\n  }\n];\n\n// 结算类型\nconst SettlementTypeOptions = [\n  {\n    value: 0,\n    label: '对公账户'\n  },\n  {\n    value: 1,\n    label: '对私账户'\n  }\n];\n\nconst SettlementInfo = () => {\n  return (\n    <BizForm\n      name=\"form-settlement-info\"\n      onFinish={async (values) => {\n        await sleep(2000);\n        console.log(values);\n      }}\n      submitter={{\n        submitText: '提交',\n        submitButtonProps: {\n          size: 'large',\n          style: {\n            padding: '0 40px'\n          }\n        },\n        noReset: true,\n        // 提交按钮居中\n        render: (_, dom) => <div style={{ display: 'flex', justifyContent: 'center' }}>{dom}</div>\n      }}\n      labelWidth={112}\n    >\n      <Row>\n        <Col {...oneColSpan}>\n          <BizFormItemRadio\n            label=\"结算方式\"\n            name=\"settlementCycle\"\n            required\n            options={SettlementCycleOptions}\n            tooltip=\"T为工作日，D为自然日\"\n          />\n        </Col>\n        <Col {...oneColSpan}>\n          <BizFormItemRadio\n            label=\"结算类型\"\n            name=\"settlementType\"\n            required\n            options={SettlementTypeOptions}\n          />\n        </Col>\n        <Col {...oneColSpan}>\n          <BizFormItemInput label=\"账户名称\" name=\"bankCertName\" required />\n        </Col>\n        <Col {...twoColSpan}>\n          <BizFormItemInput label=\"银行卡号\" name=\"bankCardNo\" type=\"bankCard\" required />\n        </Col>\n        <Col {...twoColSpan}>\n          <BizFormItemInput label=\"开户银行名称\" name=\"bankName\" required />\n        </Col>\n        <Col {...oneColSpan}>\n          <BizFormItemAddress\n            label=\"开户支行\"\n            names={['branchLocation', 'branchName']}\n            labels={['省/市', '支行名称']}\n            required\n            options={pc}\n          />\n        </Col>\n      </Row>\n    </BizForm>\n  );\n};\n\nexport default SettlementInfo;\n"},18475:function(e,n){n.Z="import * as React from 'react';\nimport type { UploadFile } from 'antd';\nimport { BizForm, BizFormItemUpload, FileViewer } from 'antd-more';\nimport { sleep } from 'ut2';\nimport { uploadFile } from './services';\nimport { uploadFileToFssid } from './utils/fileUtils';\n\nconst Demo = () => {\n  const [fileInfo, setFileInfo] = React.useState<UploadFile>();\n  const [open, setOpen] = React.useState(false);\n\n  return (\n    <div>\n      <BizForm\n        name=\"upload-file-viewer\"\n        onFinish={async (values) => {\n          await sleep();\n          console.log(values);\n        }}\n        labelWidth={98}\n      >\n        <BizFormItemUpload\n          name=\"files\"\n          label=\"任意文件\"\n          type=\"image\"\n          accept=\"*\"\n          maxCount={9}\n          maxSize={1024 * 1024 * 10}\n          multiple\n          required\n          onUpload={uploadFile}\n          transform={uploadFileToFssid}\n          uploadProps={{\n            onPreview(file) {\n              setFileInfo(file);\n              setOpen(true);\n            },\n            onRemove: FileViewer.removeFile,\n            previewFile: FileViewer.previewFile\n          }}\n        />\n      </BizForm>\n      <FileViewer open={open} onCancel={() => setOpen(false)} file={fileInfo} />\n    </div>\n  );\n};\n\nexport default Demo;\n"},16462:function(e,n){n.Z='import * as React from \'react\';\nimport { BizForm, BizFormItemUpload } from \'antd-more\';\nimport { sleep } from \'ut2\';\n\nconst Demo = () => {\n  return (\n    <BizForm\n      name="upload-no-upload"\n      onFinish={async (values) => {\n        await sleep();\n        console.log(values);\n      }}\n      labelWidth={98}\n    >\n      <BizFormItemUpload\n        name="doc"\n        label="doc文档"\n        maxCount={1}\n        accept=".doc,.docx,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document"\n        fileTypeMessage="不支持文件类型"\n      />\n      <BizFormItemUpload\n        name="xls"\n        label="xls文档"\n        accept=".xls,.xlsx,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel"\n        required\n        fileTypeMessage="不支持文件类型"\n      />\n      <BizFormItemUpload\n        name="images"\n        label="图片"\n        type="image"\n        tooltip="配置multiple后，支持多选"\n        maxCount={9}\n        required\n        multiple\n      />\n      <BizFormItemUpload\n        name="headpic01"\n        label="头像1"\n        type="avatar"\n        tooltip="点击图片区域上传替换，常用于头像或封面，不支持预览"\n        required\n      />\n      <BizFormItemUpload\n        name="headpic02"\n        label="头像2"\n        type="image"\n        maxCount={1}\n        tooltip="使用image的方式，修改时需要先删除才能再上传"\n        required\n      />\n      <BizFormItemUpload name="dragger" label="拖拽上传" type="dragger" required multiple />\n    </BizForm>\n  );\n};\n\nexport default Demo;\n'},40049:function(e,n){n.Z='import * as React from \'react\';\nimport { BizForm, BizFormItemUpload } from \'antd-more\';\nimport { sleep } from \'ut2\';\nimport { uploadFile } from \'./services\';\nimport { uploadFileToFssid } from \'./utils/fileUtils\';\n\nconst Demo = () => {\n  return (\n    <BizForm\n      name="upload-real-time"\n      onFinish={async (values) => {\n        await sleep();\n        console.log(values);\n      }}\n      labelWidth={98}\n    >\n      <BizFormItemUpload\n        name="doc"\n        label="doc文档"\n        maxCount={1}\n        accept=".doc,.docx,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document"\n        fileTypeMessage="不支持文件类型"\n        onUpload={uploadFile}\n        transform={uploadFileToFssid}\n      />\n      <BizFormItemUpload\n        name="xls1"\n        label="xls文档1"\n        accept=".xls,.xlsx,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel"\n        required\n        fileTypeMessage="不支持文件类型"\n        // 使用自定义上传\n        onUpload={uploadFile}\n        transform={uploadFileToFssid}\n      />\n      <BizFormItemUpload\n        name="xls2"\n        label="xls文档2"\n        accept=".xls,.xlsx,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel"\n        required\n        fileTypeMessage="不支持文件类型"\n        tooltip="使用action上传"\n        // 使用 action 上传\n        uploadProps={{\n          name: \'file\',\n          action: \'https://www.mocky.io/v2/5cc8019d300000980a055e76\',\n          headers: {\n            authorization: \'authorization-text\'\n          }\n        }}\n        transform={uploadFileToFssid}\n      />\n      <BizFormItemUpload\n        name="images"\n        label="图片"\n        type="image"\n        maxCount={9}\n        required\n        onUpload={uploadFile}\n        transform={uploadFileToFssid}\n      />\n      {/* <BizFormItemUpload\n        name="headpic01"\n        label="头像1"\n        type="avatar"\n        tooltip="点击图片区域上传替换，常用于头像或封面，不支持预览"\n        required\n        onUpload={uploadFile}\n        transform={uploadFileToFssid}\n      />\n      <BizFormItemUpload\n        name="headpic02"\n        label="头像2"\n        type="image"\n        maxCount={1}\n        tooltip="使用image的方式，修改时需要先删除才能再上传"\n        required\n        onUpload={uploadFile}\n        transform={uploadFileToFssid}\n      /> */}\n      {/* <BizFormList name=\'test\' initialValue={[{ headpic03: [] }]}>\n        {\n          fields => fields.map(field => (\n            <BizFormItemUpload\n              {...field}\n              key={field.key}\n              name={[field.name, \'headpic03\']}\n              label="头像3"\n              type="image"\n              maxCount={1}\n              tooltip="使用image的方式，修改时需要先删除才能再上传"\n              required\n              onUpload={uploadFile}\n              transform={uploadFileToFssid}\n            />\n          ))\n        }\n      </BizFormList> */}\n      {/* <BizFormItemUpload\n        name="dragger"\n        label="拖拽上传"\n        type="dragger"\n        required\n        multiple\n        onUpload={uploadFile}\n        transform={uploadFileToFssid}\n      /> */}\n    </BizForm>\n  );\n};\n\nexport default Demo;\n'},22196:function(e,n){n.Z="import * as React from 'react';\nimport { BizForm, BizFormItemUpload } from 'antd-more';\nimport { sleep } from 'ut2';\nimport { downloadFile, uploadFile } from './services';\nimport type { UploadFile } from 'antd';\nimport { Spin } from 'antd';\nimport { uploadFileToFssid } from './utils/fileUtils';\n\n// 默认初始值 fssid\nconst internalFssids = ['aaa', 'bbb', 'ccc'];\n\n// 将值转换为 UploadFile 对象\nconst transformUploadFiles = async (fssids: string[]) => {\n  const tasks: Promise<{ data: string }>[] = [];\n  const ret: UploadFile[] = [];\n  for (let i = 0; i < fssids.length; i += 1) {\n    tasks.push(downloadFile(fssids[i]));\n  }\n\n  await Promise.allSettled(tasks).then((results) => {\n    results.forEach((item, index) => {\n      const fulfilled = item.status === 'fulfilled';\n\n      ret.push({\n        uid: `${-index}`,\n        status: fulfilled ? 'done' : 'error',\n        name: fulfilled ? item.value.data.substring(item.value.data.lastIndexOf('/') + 1) : '',\n        url: fulfilled ? item.value.data : undefined,\n        // 用于在提交时获取真实的value\n        response: {\n          fssid: fssids[index]\n        },\n        error: fulfilled\n          ? undefined\n          : {\n              message: '图片加载失败'\n            }\n      });\n    });\n  });\n\n  return ret;\n};\n\nconst Demo = () => {\n  const [loading, setLoading] = React.useState(true);\n  const [form] = BizForm.useForm();\n\n  // 初次转换值\n  const init = React.useCallback(async () => {\n    const images = await transformUploadFiles(internalFssids);\n    form.setFieldsValue({ images });\n    setLoading(false);\n  }, [form]);\n\n  React.useEffect(() => {\n    init();\n  }, [init]);\n\n  return (\n    <Spin spinning={loading}>\n      <BizForm\n        name=\"upload-with-default\"\n        form={form}\n        onFinish={async (values) => {\n          await sleep();\n          console.log(values);\n        }}\n        labelWidth={98}\n      >\n        <BizFormItemUpload\n          name=\"images\"\n          label=\"图片\"\n          type=\"image\"\n          onUpload={uploadFile}\n          maxCount={9}\n          required\n          transform={uploadFileToFssid}\n        />\n      </BizForm>\n    </Spin>\n  );\n};\n\nexport default Demo;\n"},84265:function(e,n){n.Z="import type { UploadFile } from 'antd';\nimport { castArray, isArray, isObject, uniqueId } from 'ut2';\nimport { downloadFile } from '../services';\nimport { AsyncMemo } from 'util-helpers';\n\nexport function wrapperUploadFile<T = any>(opts: Partial<UploadFile>) {\n  return {\n    uid: uniqueId(),\n    status: 'done',\n    thumbUrl: opts.url,\n    url: opts.url,\n    name: '',\n    ...opts\n  } as UploadFile<T>;\n}\n\nconst asyncMemo = new AsyncMemo({\n  max: 20,\n  maxStrategy: 'replaced',\n  stdTTL: 10 * 60 * 1000,\n  prefix: 'fileUtils'\n});\nasyncMemo.cache.on('del', (key, value) => {\n  if (isObject(value) && value.fileUrl) {\n    URL.revokeObjectURL(value.fileUrl);\n  }\n});\n\n// 通过 fssid 转为 UploadFile\n// 适用于详情页图片展示、表单回显\nexport function fssidToUploadFile<T = any>(fssid: string | string[]): Promise<UploadFile<T>[]> {\n  if (!fssid) {\n    return Promise.resolve([]);\n  }\n\n  const ids = castArray(fssid);\n  const tasks: Promise<{ url: string; fssid: string }>[] = [];\n\n  ids.forEach((id) => {\n    tasks.push(\n      asyncMemo.run(\n        () =>\n          // 如果有特殊处理可以在此次修改，例如解压zip文件（注意修改类型和后续处理）\n          downloadFile(id)\n            .then((res) => ({ url: res.data, fssid: id }))\n            .catch((error) => {\n              return Promise.reject({ error, message: '文件加载失败', fssid: id });\n            }),\n        id\n      )\n    );\n  });\n\n  return Promise.allSettled(tasks).then((result) =>\n    result.map((item) => {\n      if (item.status === 'fulfilled') {\n        return wrapperUploadFile({\n          name: item.value.url,\n          response: {\n            fssid: item.value.fssid\n          },\n          url: item.value.url\n        });\n      }\n\n      return wrapperUploadFile({\n        status: 'error',\n        error: item.reason.message,\n        response: {\n          fssid: item.reason.fssid\n        }\n      });\n    })\n  );\n}\n\n// 通过 UploadFile 转为 fssid\n// 表单提交时提取出上传文件的 fssid\nexport function uploadFileToFssid(fileList: UploadFile[], nil: false): (string | undefined)[];\nexport function uploadFileToFssid(fileList: UploadFile[], nil?: true): string[];\nexport function uploadFileToFssid(fileList: any, nil = true) {\n  const result: string[] = [];\n  if (isArray(fileList)) {\n    fileList.forEach((item) => {\n      if (item && typeof item === 'object' && typeof item.response === 'object') {\n        const fssid = item.response.fssid || item.response.fssId; // 部分项目中没有严格区分 fssId 和 fssid\n        if (!nil || fssid) {\n          result.push(fssid);\n        }\n      }\n    });\n  }\n  return result;\n}\n"}}]);