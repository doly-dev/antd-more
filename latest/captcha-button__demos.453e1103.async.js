"use strict";(self.webpackChunkantd_more=self.webpackChunkantd_more||[]).push([[5529],{27824:function(e,n,t){t.r(n);var r=t(73719),a=t.n(r),u=t(93762),i=t(70152),l=t(35247);n.default=function(){var e=(0,u.useState)(!1),n=a()(e,2),t=n[0],r=n[1],o=(0,u.useCallback)((function(){r(!0)}),[]),s=(0,u.useCallback)((function(){r(!1)}),[]);return(0,l.jsx)(i.Z,{start:t,second:15,onClick:o,onEnd:s})}},83128:function(e,n,t){t.r(n);var r=t(55039),a=t.n(r),u=t(73719),i=t.n(u),l=t(46011),o=t.n(l),s=t(93762),c=t(70152),d=t(53644),f=t(35247);function p(){return(p=o()(a()().mark((function e(){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.Z)();case 2:return e.abrupt("return");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n.default=function(){var e=(0,s.useState)(!1),n=i()(e,2),t=n[0],r=n[1],a=(0,s.useState)(!1),u=i()(a,2),l=u[0],o=u[1],d=(0,s.useCallback)((function(){o(!0),function(){return p.apply(this,arguments)}().then((function(){o(!1),r(!0)}))}),[]),v=(0,s.useCallback)((function(){r(!1)}),[]);return(0,f.jsx)(c.Z,{start:t,second:10,onClick:d,initText:"点击开始倒计时",runText:"剩余%s秒",resetText:"重新开始",onEnd:v,loading:l})}},42985:function(e,n,t){t.r(n);var r=t(55039),a=t.n(r),u=t(18406),i=t.n(u),l=t(73719),o=t.n(l),s=t(46011),c=t.n(s),d=t(93762),f=t(55152),p=t(76517),v=t(13961),m=t(14664),h=t(36486),x=t(88504),C=t(53644),b=t(29687),j=t(70152),Z=t(35247);function g(e){return k.apply(this,arguments)}function k(){return(k=c()(a()().mark((function e(n){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,C.Z)();case 2:return e.abrupt("return",{data:{requestId:"abcdefg",mobile:n}});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var w=function(e){var n=e.mobileField,t=void 0===n?"mobile":n,r=e.form,a=e.value,u=e.onChange,l=(0,d.useRef)(null),s=(0,d.useState)(!1),c=o()(s,2),m=c[0],h=c[1],x=(0,b.Z)(g,{autoRun:!1}),C=x.run,k=x.loading,w=function(e){null==u||u(i()(i()({},a),e))},I=(0,d.useCallback)((function(){h(!1)}),[]);return(0,Z.jsxs)(f.Z,{gutter:8,children:[(0,Z.jsx)(p.Z,{span:16,children:(0,Z.jsx)(v.Z,{placeholder:"请输入验证码",onChange:function(e){w({validateCode:e.target.value})},onBlur:function(){r.validateFields(["code","validateCode"])},value:a.validateCode,maxLength:6,allowClear:!0,ref:l})}),(0,Z.jsx)(p.Z,{span:8,children:(0,Z.jsx)(j.Z,{start:m,onClick:function(){r.validateFields([t]).then((function(e){return C(e[t]).then((function(e){w({requestId:e.data.requestId}),h(!0),l.current.focus()}))}))},onEnd:I,block:!0,loading:k})})]})},I={mobile:"",code:{requestId:"",validateCode:""}},q=function(e){var n=e.mobile,t=e.code;return{mobile:n,validateCode:t.validateCode,requestId:t.requestId}},y={labelCol:{span:5},wrapperCol:{span:16}},F={wrapperCol:{sm:{offset:5},span:16}};n.default=function(){var e=m.Z.useForm(),n=o()(e,1)[0],t=(0,d.useState)((function(){return q(I)})),r=o()(t,2),a=r[0],u=r[1],l=(0,d.useCallback)((function(e){u(q(e))}),[]);return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)(m.Z,i()(i()({},y),{},{onFinish:l,form:n,initialValues:I,name:"captcha-button-demo3",children:[(0,Z.jsx)(m.Z.Item,{label:"手机号码",name:"mobile",validateFirst:!0,validateTrigger:"onBlur",required:!0,rules:[{validator:function(e,n){var t="";return n?(0,x.Z)(n)||(t="请输入正确的手机号码"):t="请输入手机号码",t?Promise.reject(t):Promise.resolve()}}],children:(0,Z.jsx)(v.Z,{placeholder:"请输入手机号码",allowClear:!0,maxLength:11})}),(0,Z.jsx)(m.Z.Item,{name:"code",label:"验证码",validateFirst:!0,validateTrigger:"onBlur",required:!0,rules:[{validator:function(e,n){var t="";return n.requestId?n.validateCode||(t="请输入验证码"):t="请点击获取验证码并输入",t?Promise.reject(t):Promise.resolve()}}],children:(0,Z.jsx)(w,{form:n})}),(0,Z.jsx)(m.Z.Item,i()(i()({},F),{},{children:(0,Z.jsx)(h.ZP,{type:"primary",htmlType:"submit",children:"确定"})}))]})),(0,Z.jsxs)("div",{children:["params:",JSON.stringify(a)]})]})}}}]);